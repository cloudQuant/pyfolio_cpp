<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pyfolio C++: Pyfolio C++ API Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Pyfolio C++<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-performance C++20 financial portfolio analysis library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d0/d31/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2API__REFERENCE.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Pyfolio C++ API Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a></p>
<p>Complete reference for the Pyfolio C++ financial analysis library.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Quick Navigation</h1>
<ul>
<li>Core Components</li>
<li>Performance Analysis</li>
<li>Risk Management</li>
<li>Portfolio Attribution</li>
<li>Data Structures</li>
<li>Utilities</li>
<li>Examples</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Core Components</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
TimeSeries&lt;T&gt;</h2>
<p>High-performance time series container optimized for financial data.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d8/d51/time__series_8h.html">pyfolio/core/time_series.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">class </span>TimeSeries {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Construction</span></div>
<div class="line">    TimeSeries();</div>
<div class="line">    TimeSeries(<span class="keyword">const</span> std::vector&lt;DateTime&gt;&amp; timestamps, </div>
<div class="line">               <span class="keyword">const</span> std::vector&lt;T&gt;&amp; values,</div>
<div class="line">               <span class="keyword">const</span> std::string&amp; name = <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Factory methods (preferred)</span></div>
<div class="line">    <span class="keyword">static</span> Result&lt;TimeSeries&lt;T&gt;&gt; create(</div>
<div class="line">        <span class="keyword">const</span> std::vector&lt;DateTime&gt;&amp; timestamps,</div>
<div class="line">        <span class="keyword">const</span> std::vector&lt;T&gt;&amp; values,</div>
<div class="line">        <span class="keyword">const</span> std::string&amp; name = <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Capacity</span></div>
<div class="line">    <span class="keyword">constexpr</span> size_type size() const noexcept;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> empty() const noexcept;</div>
<div class="line">    <span class="keywordtype">void</span> reserve(size_type n);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Element access</span></div>
<div class="line">    constexpr const T&amp; operator[](size_type index) const noexcept;</div>
<div class="line">    const T&amp; at(size_type index) const;</div>
<div class="line">    constexpr const DateTime&amp; timestamp(size_type index) const;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Modifiers</span></div>
<div class="line">    <span class="keywordtype">void</span> push_back(const DateTime&amp; timestamp, const T&amp; value);</div>
<div class="line">    [[nodiscard]] Result&lt;<span class="keywordtype">void</span>&gt; try_push_back(const DateTime&amp; timestamp, const T&amp; value);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Operations</span></div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;T&gt;&gt; slice(const DateTime&amp; start, const DateTime&amp; end) const;</div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;T&gt;&gt; resample(Frequency target_freq) const;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Rolling operations (O(n) complexity)</span></div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;T&gt;&gt; rolling_mean(size_type window) const;</div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;T&gt;&gt; rolling_std(size_type window) const;</div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;T&gt;&gt; rolling_min(size_type window) const;</div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;T&gt;&gt; rolling_max(size_type window) const;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Statistical operations (SIMD-optimized)</span></div>
<div class="line">    [[nodiscard]] Result&lt;T&gt; mean() const;</div>
<div class="line">    [[nodiscard]] Result&lt;T&gt; std() const;</div>
<div class="line">    [[nodiscard]] Result&lt;<span class="keywordtype">double</span>&gt; correlation(const TimeSeries&lt;T&gt;&amp; other) const;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Financial operations</span></div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;Return&gt;&gt; returns() const;</div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;T&gt;&gt; cumulative_returns() const;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Alignment and missing data</span></div>
<div class="line">    [[nodiscard]] Result&lt;std::pair&lt;TimeSeries&lt;T&gt;, TimeSeries&lt;T&gt;&gt;&gt; </div>
<div class="line">        align(const TimeSeries&lt;T&gt;&amp; other) const;</div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;T&gt;&gt; </div>
<div class="line">        fill_missing(const std::vector&lt;DateTime&gt;&amp; target_dates, FillMethod method) const;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// SIMD arithmetic operations</span></div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;T&gt;&gt; operator+(const TimeSeries&lt;T&gt;&amp; other) const;</div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;T&gt;&gt; operator-(const TimeSeries&lt;T&gt;&amp; other) const;</div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;T&gt;&gt; operator*(const TimeSeries&lt;T&gt;&amp; other) const;</div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;T&gt;&gt; operator*(T scalar) const;</div>
<div class="line">    [[nodiscard]] Result&lt;T&gt; dot(const TimeSeries&lt;T&gt;&amp; other) const;</div>
<div class="line">};</div>
<div class="ttc" id="atime__series_8h_html"><div class="ttname"><a href="../../d8/d51/time__series_8h.html">time_series.h</a></div></div>
</div><!-- fragment --><p><b>Performance Notes:</b></p><ul>
<li>All operations are SIMD-optimized for <code>double</code> type</li>
<li>Rolling operations use O(n) algorithms with efficient sliding windows</li>
<li>Memory layout optimized for cache efficiency</li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
Result&lt;T&gt; Error Handling</h2>
<p>Robust error handling without exceptions.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d3/d11/error__handling_8h.html">pyfolio/core/error_handling.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">class </span>Result {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Check state</span></div>
<div class="line">    <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> is_ok() const noexcept;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> is_error() const noexcept;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Access value (only when is_ok())</span></div>
<div class="line">    constexpr const T&amp; value() const &amp;;</div>
<div class="line">    constexpr T&amp; value() &amp;;</div>
<div class="line">    constexpr T&amp;&amp; value() &amp;&amp;;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Access error (only when is_error())</span></div>
<div class="line">    constexpr const Error&amp; error() const;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Factory methods</span></div>
<div class="line">    static Result&lt;T&gt; success(T&amp;&amp; value);</div>
<div class="line">    static Result&lt;T&gt; error(ErrorCode code, const std::<span class="keywordtype">string</span>&amp; message);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Monadic operations</span></div>
<div class="line">    template&lt;typename F&gt;</div>
<div class="line">    auto map(F&amp;&amp; func) const -&gt; Result&lt;decltype(func(value()))&gt;;</div>
<div class="line">    </div>
<div class="line">    template&lt;typename F&gt;</div>
<div class="line">    auto and_then(F&amp;&amp; func) const -&gt; decltype(func(value()));</div>
<div class="line">    </div>
<div class="line">    T value_or(const T&amp; default_value) const;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Common usage pattern</span></div>
<div class="line">auto result = risky_operation();</div>
<div class="line">if (result.is_error()) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; result.error().message &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"><span class="keyword">auto</span> value = result.value();</div>
<div class="ttc" id="aerror__handling_8h_html"><div class="ttname"><a href="../../d3/d11/error__handling_8h.html">error_handling.h</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5"></a>
DateTime Handling</h2>
<p>Financial calendar-aware date/time operations.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../de/d1b/datetime_8h.html">pyfolio/core/datetime.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>DateTime {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Construction</span></div>
<div class="line">    DateTime();</div>
<div class="line">    <span class="keyword">explicit</span> DateTime(std::chrono::system_clock::time_point tp);</div>
<div class="line">    DateTime(<span class="keywordtype">int</span> year, <span class="keywordtype">int</span> month, <span class="keywordtype">int</span> day);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Parsing</span></div>
<div class="line">    <span class="keyword">static</span> Result&lt;DateTime&gt; parse(<span class="keyword">const</span> std::string&amp; date_str);</div>
<div class="line">    <span class="keyword">static</span> Result&lt;DateTime&gt; parse(<span class="keyword">const</span> std::string&amp; date_str, <span class="keyword">const</span> std::string&amp; format);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Conversion</span></div>
<div class="line">    std::string to_string() <span class="keyword">const</span>;</div>
<div class="line">    std::chrono::system_clock::time_point to_time_point() <span class="keyword">const</span>;</div>
<div class="line">    std::chrono::year_month_day to_date() <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Business day operations</span></div>
<div class="line">    DateTime next_business_day() <span class="keyword">const</span>;</div>
<div class="line">    DateTime previous_business_day() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> is_business_day() <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Calendar operations</span></div>
<div class="line">    DateTime add_days(<span class="keywordtype">int</span> days) <span class="keyword">const</span>;</div>
<div class="line">    DateTime add_months(<span class="keywordtype">int</span> months) <span class="keyword">const</span>;</div>
<div class="line">    DateTime add_years(<span class="keywordtype">int</span> years) <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Comparison</span></div>
<div class="line">    <span class="keyword">auto</span> operator&lt;=&gt;(<span class="keyword">const</span> DateTime&amp; other) <span class="keyword">const</span> = <span class="keywordflow">default</span>;</div>
<div class="line">};</div>
<div class="ttc" id="adatetime_8h_html"><div class="ttname"><a href="../../de/d1b/datetime_8h.html">datetime.h</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md6"></a>
Performance Analysis</h1>
<h2><a class="anchor" id="autotoc_md7"></a>
Basic Metrics</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d7/d06/ratios_8h.html">pyfolio/performance/ratios.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d8/dd9/namespacepyfolio_1_1performance.html">pyfolio::performance</a> {</div>
<div class="line">    <span class="comment">// Risk-adjusted returns</span></div>
<div class="line">    [[nodiscard]] Result&lt;double&gt; <a class="code hl_function" href="../../d8/dd9/namespacepyfolio_1_1performance.html#aa8dd6ffc556adc3f76dc32645ec6b57c">sharpe_ratio</a>(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns, </div>
<div class="line">        <span class="keywordtype">double</span> risk_free_rate = 0.02);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;double&gt; <a class="code hl_function" href="../../d8/dd9/namespacepyfolio_1_1performance.html#a2b9a9772352ff85db5af94511638114f">sortino_ratio</a>(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keywordtype">double</span> target_return = 0.0);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;double&gt; <a class="code hl_function" href="../../d8/dd9/namespacepyfolio_1_1performance.html#a9bb5c04c5c7d86d34a5867ebcbc2ec9c">calmar_ratio</a>(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;double&gt; <a class="code hl_function" href="../../d8/dd9/namespacepyfolio_1_1performance.html#a72a6639531f459b9963884e4d4ac571e">information_ratio</a>(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; portfolio_returns,</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; benchmark_returns);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Basic metrics</span></div>
<div class="line">    [[nodiscard]] Result&lt;double&gt; <a class="code hl_function" href="../../d8/dd9/namespacepyfolio_1_1performance.html#a6bc9f0c706b2d89a0eb6c539eddef077">total_return</a>(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;double&gt; annual_return(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keywordtype">int</span> periods_per_year = 252);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;double&gt; volatility(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keywordtype">int</span> periods_per_year = 252);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Advanced metrics</span></div>
<div class="line">    [[nodiscard]] Result&lt;double&gt; <a class="code hl_function" href="../../d8/dd9/namespacepyfolio_1_1performance.html#a376eed0b5df19f13f64b76230fdf6718">omega_ratio</a>(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keywordtype">double</span> threshold = 0.0);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;double&gt; tail_ratio(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns);</div>
<div class="line">}</div>
<div class="ttc" id="anamespacepyfolio_1_1performance_html"><div class="ttname"><a href="../../d8/dd9/namespacepyfolio_1_1performance.html">pyfolio::performance</a></div><div class="ttdef"><b>Definition</b> <a href="../../d8/de8/drawdown_8h_source.html#l00010">drawdown.h:10</a></div></div>
<div class="ttc" id="anamespacepyfolio_1_1performance_html_a2b9a9772352ff85db5af94511638114f"><div class="ttname"><a href="../../d8/dd9/namespacepyfolio_1_1performance.html#a2b9a9772352ff85db5af94511638114f">pyfolio::performance::sortino_ratio</a></div><div class="ttdeci">Result&lt; double &gt; sortino_ratio(const ReturnSeries &amp;returns, double target_return=0.0, Frequency frequency=Frequency::Daily)</div><div class="ttdoc">Calculate Sortino ratio (downside risk-adjusted return)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d06/ratios_8h_source.html#l00062">ratios.h:62</a></div></div>
<div class="ttc" id="anamespacepyfolio_1_1performance_html_a376eed0b5df19f13f64b76230fdf6718"><div class="ttname"><a href="../../d8/dd9/namespacepyfolio_1_1performance.html#a376eed0b5df19f13f64b76230fdf6718">pyfolio::performance::omega_ratio</a></div><div class="ttdeci">Result&lt; double &gt; omega_ratio(const ReturnSeries &amp;returns, double threshold=0.0, Frequency frequency=Frequency::Daily)</div><div class="ttdoc">Calculate Omega ratio (probability weighted ratio)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d06/ratios_8h_source.html#l00217">ratios.h:217</a></div></div>
<div class="ttc" id="anamespacepyfolio_1_1performance_html_a6bc9f0c706b2d89a0eb6c539eddef077"><div class="ttname"><a href="../../d8/dd9/namespacepyfolio_1_1performance.html#a6bc9f0c706b2d89a0eb6c539eddef077">pyfolio::performance::total_return</a></div><div class="ttdeci">Result&lt; double &gt; total_return(const ReturnSeries &amp;returns)</div><div class="ttdoc">Calculate total return over period.</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d73/returns_8h_source.html#l00259">returns.h:259</a></div></div>
<div class="ttc" id="anamespacepyfolio_1_1performance_html_a72a6639531f459b9963884e4d4ac571e"><div class="ttname"><a href="../../d8/dd9/namespacepyfolio_1_1performance.html#a72a6639531f459b9963884e4d4ac571e">pyfolio::performance::information_ratio</a></div><div class="ttdeci">Result&lt; double &gt; information_ratio(const ReturnSeries &amp;portfolio_returns, const ReturnSeries &amp;benchmark_returns, Frequency frequency=Frequency::Daily)</div><div class="ttdoc">Calculate Information ratio (active return over tracking error)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d06/ratios_8h_source.html#l00164">ratios.h:164</a></div></div>
<div class="ttc" id="anamespacepyfolio_1_1performance_html_a9bb5c04c5c7d86d34a5867ebcbc2ec9c"><div class="ttname"><a href="../../d8/dd9/namespacepyfolio_1_1performance.html#a9bb5c04c5c7d86d34a5867ebcbc2ec9c">pyfolio::performance::calmar_ratio</a></div><div class="ttdeci">Result&lt; double &gt; calmar_ratio(const ReturnSeries &amp;returns, Frequency frequency=Frequency::Daily)</div><div class="ttdoc">Calculate Calmar ratio (return over maximum drawdown)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d06/ratios_8h_source.html#l00116">ratios.h:116</a></div></div>
<div class="ttc" id="anamespacepyfolio_1_1performance_html_aa8dd6ffc556adc3f76dc32645ec6b57c"><div class="ttname"><a href="../../d8/dd9/namespacepyfolio_1_1performance.html#aa8dd6ffc556adc3f76dc32645ec6b57c">pyfolio::performance::sharpe_ratio</a></div><div class="ttdeci">Result&lt; double &gt; sharpe_ratio(const ReturnSeries &amp;returns, double risk_free_rate=constants::DEFAULT_RISK_FREE_RATE, Frequency frequency=Frequency::Daily)</div><div class="ttdoc">Calculate Sharpe ratio.</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d06/ratios_8h_source.html#l00015">ratios.h:15</a></div></div>
<div class="ttc" id="aratios_8h_html"><div class="ttname"><a href="../../d7/d06/ratios_8h.html">ratios.h</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md8"></a>
Drawdown Analysis</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d8/de8/drawdown_8h.html">pyfolio/performance/drawdown.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d8/dd9/namespacepyfolio_1_1performance.html">pyfolio::performance</a> {</div>
<div class="line">    <span class="keyword">struct </span>DrawdownInfo {</div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../d4/d65/structpyfolio_1_1performance_1_1DrawdownInfo.html#a4acd89d9458206e5bda7a029df0a502b">max_drawdown</a>;          </div>
<div class="line">        DateTime peak_date;           </div>
<div class="line">        DateTime trough_date;         </div>
<div class="line">        DateTime <a class="code hl_variable" href="../../d4/d65/structpyfolio_1_1performance_1_1DrawdownInfo.html#a8e8670f62f7852e69238e2e6e3e312dc">recovery_date</a>;       </div>
<div class="line">        <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d4/d65/structpyfolio_1_1performance_1_1DrawdownInfo.html#a510999b336c0c1be5780517eb1fc96ca">duration_days</a>;            </div>
<div class="line">        <span class="keywordtype">bool</span> <a class="code hl_variable" href="../../d4/d65/structpyfolio_1_1performance_1_1DrawdownInfo.html#a6da3d2f51f2a7c4a9622944f341f8d7f">recovered</a>;               </div>
<div class="line">    };</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;double&gt; <a class="code hl_function" href="../../d8/dd9/namespacepyfolio_1_1performance.html#a919af12e2600a7e77163a20bf6f98609">max_drawdown</a>(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;double&gt;&gt; drawdown_series(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;std::vector&lt;DrawdownInfo&gt;&gt; drawdown_periods(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keywordtype">double</span> min_drawdown = 0.01);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;DrawdownInfo&gt; worst_drawdown(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns);</div>
<div class="line">}</div>
<div class="ttc" id="adrawdown_8h_html"><div class="ttname"><a href="../../d8/de8/drawdown_8h.html">drawdown.h</a></div></div>
<div class="ttc" id="anamespacepyfolio_1_1performance_html_a919af12e2600a7e77163a20bf6f98609"><div class="ttname"><a href="../../d8/dd9/namespacepyfolio_1_1performance.html#a919af12e2600a7e77163a20bf6f98609">pyfolio::performance::max_drawdown</a></div><div class="ttdeci">Result&lt; double &gt; max_drawdown(const ReturnSeries &amp;returns)</div><div class="ttdoc">Calculate maximum drawdown.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/de8/drawdown_8h_source.html#l00066">drawdown.h:66</a></div></div>
<div class="ttc" id="astructpyfolio_1_1performance_1_1DrawdownInfo_html_a4acd89d9458206e5bda7a029df0a502b"><div class="ttname"><a href="../../d4/d65/structpyfolio_1_1performance_1_1DrawdownInfo.html#a4acd89d9458206e5bda7a029df0a502b">pyfolio::performance::DrawdownInfo::max_drawdown</a></div><div class="ttdeci">double max_drawdown</div><div class="ttdef"><b>Definition</b> <a href="../../d8/de8/drawdown_8h_source.html#l00016">drawdown.h:16</a></div></div>
<div class="ttc" id="astructpyfolio_1_1performance_1_1DrawdownInfo_html_a510999b336c0c1be5780517eb1fc96ca"><div class="ttname"><a href="../../d4/d65/structpyfolio_1_1performance_1_1DrawdownInfo.html#a510999b336c0c1be5780517eb1fc96ca">pyfolio::performance::DrawdownInfo::duration_days</a></div><div class="ttdeci">int duration_days</div><div class="ttdef"><b>Definition</b> <a href="../../d8/de8/drawdown_8h_source.html#l00020">drawdown.h:20</a></div></div>
<div class="ttc" id="astructpyfolio_1_1performance_1_1DrawdownInfo_html_a6da3d2f51f2a7c4a9622944f341f8d7f"><div class="ttname"><a href="../../d4/d65/structpyfolio_1_1performance_1_1DrawdownInfo.html#a6da3d2f51f2a7c4a9622944f341f8d7f">pyfolio::performance::DrawdownInfo::recovered</a></div><div class="ttdeci">bool recovered</div><div class="ttdef"><b>Definition</b> <a href="../../d8/de8/drawdown_8h_source.html#l00022">drawdown.h:22</a></div></div>
<div class="ttc" id="astructpyfolio_1_1performance_1_1DrawdownInfo_html_a8e8670f62f7852e69238e2e6e3e312dc"><div class="ttname"><a href="../../d4/d65/structpyfolio_1_1performance_1_1DrawdownInfo.html#a8e8670f62f7852e69238e2e6e3e312dc">pyfolio::performance::DrawdownInfo::recovery_date</a></div><div class="ttdeci">DateTime recovery_date</div><div class="ttdef"><b>Definition</b> <a href="../../d8/de8/drawdown_8h_source.html#l00019">drawdown.h:19</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md9"></a>
Comprehensive Analysis</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../de/d88/performance__metrics_8h.html">pyfolio/analytics/performance_metrics.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d2/d10/namespacepyfolio_1_1analytics.html">pyfolio::analytics</a> {</div>
<div class="line">    <span class="keyword">struct </span>PerformanceMetrics {</div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a3e502eb4760ff637704b95fc0cf4add1">total_return</a>;        </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a2d32e78155a9e0434d5beffda4fb2bec">annual_return</a>;       </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a0f0a580e22b9f38fee7222d2d3f1f646">annual_volatility</a>;   </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a2252369fd5a1d4f13476e6f68bec085e">sharpe_ratio</a>;        </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#aee0f94a36cb88d38dcc2d8f755bd359c">sortino_ratio</a>;       </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a7f7e2b17c39585f1a5869ca5ef8c8724">max_drawdown</a>;        </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a714269105c1cacb42e4170fdbae4918e">calmar_ratio</a>;        </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a0c337f6982ecd7f7c790a12893ee77b5">skewness</a>;            </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a2a26804a2b0f39cfe38af3f7d9d4fca1">kurtosis</a>;            </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a0b08a5e0348465a0a66cc54f95580373">var_95</a>;              </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a96cea1b61c0d9b29916d53409d3c612c">var_99</a>;              </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#ab50d8bd93cdab494c0971c3503b4dcef">beta</a>;                </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a8ae8364d4a6c1b763174571da30b46a6">alpha</a>;               </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a37817089e17da1751be43cf33bdd0dc7">information_ratio</a>;   </div>
<div class="line">        <span class="comment">// ... additional metrics</span></div>
<div class="line">    };</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;PerformanceMetrics&gt; <a class="code hl_function" href="../../d2/d10/namespacepyfolio_1_1analytics.html#a0562de05a212709b5e0fe358e30c90d0">calculate_performance_metrics</a>(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keyword">const</span> std::optional&lt;TimeSeries&lt;Return&gt;&gt;&amp; benchmark = std::nullopt,</div>
<div class="line">        <span class="keywordtype">double</span> risk_free_rate = 0.02,</div>
<div class="line">        <span class="keywordtype">int</span> periods_per_year = 252);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;PerformanceMetrics&gt;&gt; </div>
<div class="line">        <a class="code hl_function" href="../../d2/d10/namespacepyfolio_1_1analytics.html#a6767fe5fe2707ba7d41dcc60be71fc15">calculate_rolling_performance_metrics</a>(</div>
<div class="line">            <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">            <span class="keywordtype">size_t</span> window = 252,</div>
<div class="line">            <span class="keyword">const</span> std::optional&lt;TimeSeries&lt;Return&gt;&gt;&amp; benchmark = std::nullopt,</div>
<div class="line">            <span class="keywordtype">double</span> risk_free_rate = 0.02);</div>
<div class="line">}</div>
<div class="ttc" id="anamespacepyfolio_1_1analytics_html"><div class="ttname"><a href="../../d2/d10/namespacepyfolio_1_1analytics.html">pyfolio::analytics</a></div><div class="ttdef"><b>Definition</b> <a href="../../d6/dfe/bayesian_8h_source.html#l00013">bayesian.h:13</a></div></div>
<div class="ttc" id="anamespacepyfolio_1_1analytics_html_a0562de05a212709b5e0fe358e30c90d0"><div class="ttname"><a href="../../d2/d10/namespacepyfolio_1_1analytics.html#a0562de05a212709b5e0fe358e30c90d0">pyfolio::analytics::calculate_performance_metrics</a></div><div class="ttdeci">Result&lt; PerformanceMetrics &gt; calculate_performance_metrics(const TimeSeries&lt; Return &gt; &amp;returns, const std::optional&lt; TimeSeries&lt; Return &gt; &gt; &amp;benchmark=std::nullopt, double risk_free_rate=0.02, int periods_per_year=252)</div><div class="ttdoc">Calculate comprehensive performance metrics for a return series.</div></div>
<div class="ttc" id="anamespacepyfolio_1_1analytics_html_a6767fe5fe2707ba7d41dcc60be71fc15"><div class="ttname"><a href="../../d2/d10/namespacepyfolio_1_1analytics.html#a6767fe5fe2707ba7d41dcc60be71fc15">pyfolio::analytics::calculate_rolling_performance_metrics</a></div><div class="ttdeci">Result&lt; TimeSeries&lt; PerformanceMetrics &gt; &gt; calculate_rolling_performance_metrics(const TimeSeries&lt; Return &gt; &amp;returns, size_t window=252, const std::optional&lt; TimeSeries&lt; Return &gt; &gt; &amp;benchmark=std::nullopt, double risk_free_rate=0.02)</div><div class="ttdoc">Calculate rolling performance metrics.</div></div>
<div class="ttc" id="aperformance__metrics_8h_html"><div class="ttname"><a href="../../de/d88/performance__metrics_8h.html">performance_metrics.h</a></div><div class="ttdoc">Comprehensive portfolio performance metrics and analytics.</div></div>
<div class="ttc" id="astructpyfolio_1_1analytics_1_1PerformanceMetrics_html_a0b08a5e0348465a0a66cc54f95580373"><div class="ttname"><a href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a0b08a5e0348465a0a66cc54f95580373">pyfolio::analytics::PerformanceMetrics::var_95</a></div><div class="ttdeci">double var_95</div><div class="ttdoc">Value at Risk at 95% confidence level.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d88/performance__metrics_8h_source.html#l00080">performance_metrics.h:80</a></div></div>
<div class="ttc" id="astructpyfolio_1_1analytics_1_1PerformanceMetrics_html_a0c337f6982ecd7f7c790a12893ee77b5"><div class="ttname"><a href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a0c337f6982ecd7f7c790a12893ee77b5">pyfolio::analytics::PerformanceMetrics::skewness</a></div><div class="ttdeci">double skewness</div><div class="ttdoc">Third moment - asymmetry of return distribution.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d88/performance__metrics_8h_source.html#l00078">performance_metrics.h:78</a></div></div>
<div class="ttc" id="astructpyfolio_1_1analytics_1_1PerformanceMetrics_html_a0f0a580e22b9f38fee7222d2d3f1f646"><div class="ttname"><a href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a0f0a580e22b9f38fee7222d2d3f1f646">pyfolio::analytics::PerformanceMetrics::annual_volatility</a></div><div class="ttdeci">double annual_volatility</div><div class="ttdoc">Annualized standard deviation of returns.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d88/performance__metrics_8h_source.html#l00073">performance_metrics.h:73</a></div></div>
<div class="ttc" id="astructpyfolio_1_1analytics_1_1PerformanceMetrics_html_a2252369fd5a1d4f13476e6f68bec085e"><div class="ttname"><a href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a2252369fd5a1d4f13476e6f68bec085e">pyfolio::analytics::PerformanceMetrics::sharpe_ratio</a></div><div class="ttdeci">double sharpe_ratio</div><div class="ttdoc">Risk-adjusted return: (return - rf) / volatility.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d88/performance__metrics_8h_source.html#l00074">performance_metrics.h:74</a></div></div>
<div class="ttc" id="astructpyfolio_1_1analytics_1_1PerformanceMetrics_html_a2a26804a2b0f39cfe38af3f7d9d4fca1"><div class="ttname"><a href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a2a26804a2b0f39cfe38af3f7d9d4fca1">pyfolio::analytics::PerformanceMetrics::kurtosis</a></div><div class="ttdeci">double kurtosis</div><div class="ttdoc">Fourth moment - tail heaviness.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d88/performance__metrics_8h_source.html#l00079">performance_metrics.h:79</a></div></div>
<div class="ttc" id="astructpyfolio_1_1analytics_1_1PerformanceMetrics_html_a2d32e78155a9e0434d5beffda4fb2bec"><div class="ttname"><a href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a2d32e78155a9e0434d5beffda4fb2bec">pyfolio::analytics::PerformanceMetrics::annual_return</a></div><div class="ttdeci">double annual_return</div><div class="ttdoc">Annualized return (geometric mean)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d88/performance__metrics_8h_source.html#l00072">performance_metrics.h:72</a></div></div>
<div class="ttc" id="astructpyfolio_1_1analytics_1_1PerformanceMetrics_html_a37817089e17da1751be43cf33bdd0dc7"><div class="ttname"><a href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a37817089e17da1751be43cf33bdd0dc7">pyfolio::analytics::PerformanceMetrics::information_ratio</a></div><div class="ttdeci">double information_ratio</div><div class="ttdoc">Active return / Tracking error.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d88/performance__metrics_8h_source.html#l00084">performance_metrics.h:84</a></div></div>
<div class="ttc" id="astructpyfolio_1_1analytics_1_1PerformanceMetrics_html_a3e502eb4760ff637704b95fc0cf4add1"><div class="ttname"><a href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a3e502eb4760ff637704b95fc0cf4add1">pyfolio::analytics::PerformanceMetrics::total_return</a></div><div class="ttdeci">double total_return</div><div class="ttdoc">Cumulative return over the entire period.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d88/performance__metrics_8h_source.html#l00071">performance_metrics.h:71</a></div></div>
<div class="ttc" id="astructpyfolio_1_1analytics_1_1PerformanceMetrics_html_a714269105c1cacb42e4170fdbae4918e"><div class="ttname"><a href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a714269105c1cacb42e4170fdbae4918e">pyfolio::analytics::PerformanceMetrics::calmar_ratio</a></div><div class="ttdeci">double calmar_ratio</div><div class="ttdoc">Annual return / Maximum drawdown.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d88/performance__metrics_8h_source.html#l00077">performance_metrics.h:77</a></div></div>
<div class="ttc" id="astructpyfolio_1_1analytics_1_1PerformanceMetrics_html_a7f7e2b17c39585f1a5869ca5ef8c8724"><div class="ttname"><a href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a7f7e2b17c39585f1a5869ca5ef8c8724">pyfolio::analytics::PerformanceMetrics::max_drawdown</a></div><div class="ttdeci">double max_drawdown</div><div class="ttdoc">Maximum peak-to-trough decline.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d88/performance__metrics_8h_source.html#l00076">performance_metrics.h:76</a></div></div>
<div class="ttc" id="astructpyfolio_1_1analytics_1_1PerformanceMetrics_html_a8ae8364d4a6c1b763174571da30b46a6"><div class="ttname"><a href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a8ae8364d4a6c1b763174571da30b46a6">pyfolio::analytics::PerformanceMetrics::alpha</a></div><div class="ttdeci">double alpha</div><div class="ttdoc">Excess return after adjusting for beta.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d88/performance__metrics_8h_source.html#l00083">performance_metrics.h:83</a></div></div>
<div class="ttc" id="astructpyfolio_1_1analytics_1_1PerformanceMetrics_html_a96cea1b61c0d9b29916d53409d3c612c"><div class="ttname"><a href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#a96cea1b61c0d9b29916d53409d3c612c">pyfolio::analytics::PerformanceMetrics::var_99</a></div><div class="ttdeci">double var_99</div><div class="ttdoc">Value at Risk at 99% confidence level.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d88/performance__metrics_8h_source.html#l00081">performance_metrics.h:81</a></div></div>
<div class="ttc" id="astructpyfolio_1_1analytics_1_1PerformanceMetrics_html_ab50d8bd93cdab494c0971c3503b4dcef"><div class="ttname"><a href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#ab50d8bd93cdab494c0971c3503b4dcef">pyfolio::analytics::PerformanceMetrics::beta</a></div><div class="ttdeci">double beta</div><div class="ttdoc">Systematic risk relative to benchmark.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d88/performance__metrics_8h_source.html#l00082">performance_metrics.h:82</a></div></div>
<div class="ttc" id="astructpyfolio_1_1analytics_1_1PerformanceMetrics_html_aee0f94a36cb88d38dcc2d8f755bd359c"><div class="ttname"><a href="../../de/d2e/structpyfolio_1_1analytics_1_1PerformanceMetrics.html#aee0f94a36cb88d38dcc2d8f755bd359c">pyfolio::analytics::PerformanceMetrics::sortino_ratio</a></div><div class="ttdeci">double sortino_ratio</div><div class="ttdoc">Downside risk-adjusted return.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d88/performance__metrics_8h_source.html#l00075">performance_metrics.h:75</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md10"></a>
Risk Management</h1>
<h2><a class="anchor" id="autotoc_md11"></a>
Value at Risk</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../df/d46/var_8h.html">pyfolio/risk/var.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d2/da5/namespacepyfolio_1_1risk.html">pyfolio::risk</a> {</div>
<div class="line">    <span class="keyword">enum class</span> <a class="code hl_enumeration" href="../../d2/da5/namespacepyfolio_1_1risk.html#a15c267eaee47bf99d3a714b595a27206">VaRMethod</a> {</div>
<div class="line">        <a class="code hl_enumvalue" href="../../d2/da5/namespacepyfolio_1_1risk.html#a15c267eaee47bf99d3a714b595a27206a1df940294e43cce1f43fe5cd4e103b94">Historical</a>,     </div>
<div class="line">        <a class="code hl_enumvalue" href="../../d2/da5/namespacepyfolio_1_1risk.html#a15c267eaee47bf99d3a714b595a27206a23706d68d0c7d89a0010b5cc242084f0">Parametric</a>,     </div>
<div class="line">        <a class="code hl_enumvalue" href="../../d2/da5/namespacepyfolio_1_1risk.html#a15c267eaee47bf99d3a714b595a27206aedd652c19d7dbbfb3d242aa14b2fec8c">MonteCarlo</a>      </div>
<div class="line">    };</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;double&gt; value_at_risk(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keywordtype">double</span> confidence_level = 0.95,</div>
<div class="line">        <a class="code hl_enumeration" href="../../d2/da5/namespacepyfolio_1_1risk.html#a15c267eaee47bf99d3a714b595a27206">VaRMethod</a> method = <a class="code hl_enumvalue" href="../../d2/da5/namespacepyfolio_1_1risk.html#a15c267eaee47bf99d3a714b595a27206a1df940294e43cce1f43fe5cd4e103b94">VaRMethod::Historical</a>);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;double&gt; <a class="code hl_function" href="../../d2/da5/namespacepyfolio_1_1risk.html#ac091b780b885e60eb245538dd9ec1910">conditional_var</a>(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keywordtype">double</span> confidence_level = 0.95,</div>
<div class="line">        <a class="code hl_enumeration" href="../../d2/da5/namespacepyfolio_1_1risk.html#a15c267eaee47bf99d3a714b595a27206">VaRMethod</a> method = <a class="code hl_enumvalue" href="../../d2/da5/namespacepyfolio_1_1risk.html#a15c267eaee47bf99d3a714b595a27206a1df940294e43cce1f43fe5cd4e103b94">VaRMethod::Historical</a>);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;double&gt;&gt; rolling_var(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keywordtype">size_t</span> window = 252,</div>
<div class="line">        <span class="keywordtype">double</span> confidence_level = 0.95);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Stress testing</span></div>
<div class="line">    [[nodiscard]] Result&lt;std::map&lt;std::string, double&gt;&gt; stress_test(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keyword">const</span> std::vector&lt;std::pair&lt;std::string, TimeSeries&lt;Return&gt;&gt;&gt;&amp; scenarios);</div>
<div class="line">}</div>
<div class="ttc" id="anamespacepyfolio_1_1risk_html"><div class="ttname"><a href="../../d2/da5/namespacepyfolio_1_1risk.html">pyfolio::risk</a></div><div class="ttdef"><b>Definition</b> <a href="../../d4/da5/factor__exposure_8h_source.html#l00013">factor_exposure.h:13</a></div></div>
<div class="ttc" id="anamespacepyfolio_1_1risk_html_a15c267eaee47bf99d3a714b595a27206"><div class="ttname"><a href="../../d2/da5/namespacepyfolio_1_1risk.html#a15c267eaee47bf99d3a714b595a27206">pyfolio::risk::VaRMethod</a></div><div class="ttdeci">VaRMethod</div><div class="ttdoc">VaR calculation methodology.</div><div class="ttdef"><b>Definition</b> <a href="../../df/d46/var_8h_source.html#l00020">var.h:20</a></div></div>
<div class="ttc" id="anamespacepyfolio_1_1risk_html_a15c267eaee47bf99d3a714b595a27206a1df940294e43cce1f43fe5cd4e103b94"><div class="ttname"><a href="../../d2/da5/namespacepyfolio_1_1risk.html#a15c267eaee47bf99d3a714b595a27206a1df940294e43cce1f43fe5cd4e103b94">pyfolio::risk::VaRMethod::Historical</a></div><div class="ttdeci">@ Historical</div><div class="ttdef"><b>Definition</b> <a href="../../df/d46/var_8h_source.html#l00020">var.h:20</a></div></div>
<div class="ttc" id="anamespacepyfolio_1_1risk_html_a15c267eaee47bf99d3a714b595a27206a23706d68d0c7d89a0010b5cc242084f0"><div class="ttname"><a href="../../d2/da5/namespacepyfolio_1_1risk.html#a15c267eaee47bf99d3a714b595a27206a23706d68d0c7d89a0010b5cc242084f0">pyfolio::risk::VaRMethod::Parametric</a></div><div class="ttdeci">@ Parametric</div><div class="ttdef"><b>Definition</b> <a href="../../df/d46/var_8h_source.html#l00020">var.h:20</a></div></div>
<div class="ttc" id="anamespacepyfolio_1_1risk_html_a15c267eaee47bf99d3a714b595a27206aedd652c19d7dbbfb3d242aa14b2fec8c"><div class="ttname"><a href="../../d2/da5/namespacepyfolio_1_1risk.html#a15c267eaee47bf99d3a714b595a27206aedd652c19d7dbbfb3d242aa14b2fec8c">pyfolio::risk::VaRMethod::MonteCarlo</a></div><div class="ttdeci">@ MonteCarlo</div><div class="ttdef"><b>Definition</b> <a href="../../df/d46/var_8h_source.html#l00020">var.h:20</a></div></div>
<div class="ttc" id="anamespacepyfolio_1_1risk_html_ac091b780b885e60eb245538dd9ec1910"><div class="ttname"><a href="../../d2/da5/namespacepyfolio_1_1risk.html#ac091b780b885e60eb245538dd9ec1910">pyfolio::risk::conditional_var</a></div><div class="ttdeci">Result&lt; double &gt; conditional_var(const ReturnSeries &amp;returns, double confidence_level=constants::DEFAULT_CONFIDENCE_LEVEL)</div><div class="ttdoc">Calculate Conditional Value at Risk (Expected Shortfall)</div><div class="ttdef"><b>Definition</b> <a href="../../df/d46/var_8h_source.html#l00603">var.h:603</a></div></div>
<div class="ttc" id="avar_8h_html"><div class="ttname"><a href="../../df/d46/var_8h.html">var.h</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md12"></a>
Factor Exposure</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d4/da5/factor__exposure_8h.html">pyfolio/risk/factor_exposure.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d2/da5/namespacepyfolio_1_1risk.html">pyfolio::risk</a> {</div>
<div class="line">    <span class="keyword">struct </span>FactorExposure {</div>
<div class="line">        std::map&lt;std::string, double&gt; exposures;</div>
<div class="line">        <span class="keywordtype">double</span> r_squared;</div>
<div class="line">        <span class="keywordtype">double</span> tracking_error;</div>
<div class="line">        TimeSeries&lt;double&gt; residuals;</div>
<div class="line">    };</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;FactorExposure&gt; calculate_factor_exposure(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; portfolio_returns,</div>
<div class="line">        <span class="keyword">const</span> std::map&lt;std::string, TimeSeries&lt;Return&gt;&gt;&amp; factor_returns);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;double&gt; beta(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; portfolio_returns,</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; market_returns);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;double&gt; alpha(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; portfolio_returns,</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; market_returns,</div>
<div class="line">        <span class="keywordtype">double</span> risk_free_rate = 0.02);</div>
<div class="line">}</div>
<div class="ttc" id="afactor__exposure_8h_html"><div class="ttname"><a href="../../d4/da5/factor__exposure_8h.html">factor_exposure.h</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md13"></a>
Portfolio Attribution</h1>
<h2><a class="anchor" id="autotoc_md14"></a>
Brinson Attribution</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;pyfolio/attribution/brinson.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="../../dc/dc6/namespacepyfolio_1_1attribution.html">pyfolio::attribution</a> {</div>
<div class="line">    <span class="keyword">struct </span>AttributionResult {</div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../d3/df5/structpyfolio_1_1attribution_1_1AttributionResult.html#aede4fa31c8104b810a8efd48d75b1331">allocation_effect</a>;   </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../d3/df5/structpyfolio_1_1attribution_1_1AttributionResult.html#ab4d8a1362c2d2c45f010030060acaf5e">selection_effect</a>;    </div>
<div class="line">        <span class="keywordtype">double</span> <a class="code hl_variable" href="../../d3/df5/structpyfolio_1_1attribution_1_1AttributionResult.html#ae646f8eb8d781fddde17809609002db9">interaction_effect</a>;  </div>
<div class="line">        <span class="keywordtype">double</span> total_active_return; </div>
<div class="line">    };</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;AttributionResult&gt; brinson_attribution(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; portfolio_returns,</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; benchmark_returns,</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;std::map&lt;std::string, double&gt;&gt;&amp; portfolio_weights,</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;std::map&lt;std::string, double&gt;&gt;&amp; benchmark_weights,</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;std::map&lt;std::string, Return&gt;&gt;&amp; sector_returns);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Multi-period attribution</span></div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;AttributionResult&gt;&gt; rolling_attribution(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; portfolio_returns,</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; benchmark_returns,</div>
<div class="line">        <span class="keyword">const</span> <a class="code hl_typedef" href="../../d7/df8/namespacepyfolio.html#a8b225a867ab95979be89a7d9e8519eb1">PositionSeries</a>&amp; positions,</div>
<div class="line">        <span class="keywordtype">size_t</span> window = 252);</div>
<div class="line">}</div>
<div class="ttc" id="anamespacepyfolio_1_1attribution_html"><div class="ttname"><a href="../../dc/dc6/namespacepyfolio_1_1attribution.html">pyfolio::attribution</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/dd4/attribution_8h_source.html#l00013">attribution.h:13</a></div></div>
<div class="ttc" id="anamespacepyfolio_html_a8b225a867ab95979be89a7d9e8519eb1"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#a8b225a867ab95979be89a7d9e8519eb1">pyfolio::PositionSeries</a></div><div class="ttdeci">std::vector&lt; Position &gt; PositionSeries</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00199">types.h:199</a></div></div>
<div class="ttc" id="astructpyfolio_1_1attribution_1_1AttributionResult_html_ab4d8a1362c2d2c45f010030060acaf5e"><div class="ttname"><a href="../../d3/df5/structpyfolio_1_1attribution_1_1AttributionResult.html#ab4d8a1362c2d2c45f010030060acaf5e">pyfolio::attribution::AttributionResult::selection_effect</a></div><div class="ttdeci">double selection_effect</div><div class="ttdef"><b>Definition</b> <a href="../../da/dd4/attribution_8h_source.html#l00023">attribution.h:23</a></div></div>
<div class="ttc" id="astructpyfolio_1_1attribution_1_1AttributionResult_html_ae646f8eb8d781fddde17809609002db9"><div class="ttname"><a href="../../d3/df5/structpyfolio_1_1attribution_1_1AttributionResult.html#ae646f8eb8d781fddde17809609002db9">pyfolio::attribution::AttributionResult::interaction_effect</a></div><div class="ttdeci">double interaction_effect</div><div class="ttdef"><b>Definition</b> <a href="../../da/dd4/attribution_8h_source.html#l00024">attribution.h:24</a></div></div>
<div class="ttc" id="astructpyfolio_1_1attribution_1_1AttributionResult_html_aede4fa31c8104b810a8efd48d75b1331"><div class="ttname"><a href="../../d3/df5/structpyfolio_1_1attribution_1_1AttributionResult.html#aede4fa31c8104b810a8efd48d75b1331">pyfolio::attribution::AttributionResult::allocation_effect</a></div><div class="ttdeci">double allocation_effect</div><div class="ttdef"><b>Definition</b> <a href="../../da/dd4/attribution_8h_source.html#l00022">attribution.h:22</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md15"></a>
Data Structures</h1>
<h2><a class="anchor" id="autotoc_md16"></a>
Core Types</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d9/d49/types_8h.html">pyfolio/core/types.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Financial value types</span></div>
<div class="line"><span class="keyword">using </span>Price = double;</div>
<div class="line"><span class="keyword">using </span>Return = double;</div>
<div class="line"><span class="keyword">using </span>Volume = double;</div>
<div class="line"><span class="keyword">using </span>Shares = double;</div>
<div class="line"><span class="keyword">using </span>Weight = double;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Time types</span></div>
<div class="line"><span class="keyword">using </span>TimePoint = std::chrono::system_clock::time_point;</div>
<div class="line"><span class="keyword">using </span>Duration = std::chrono::system_clock::duration;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Position data</span></div>
<div class="line"><span class="keyword">struct </span>Position {</div>
<div class="line">    Symbol symbol;</div>
<div class="line">    Shares shares;</div>
<div class="line">    Price price;</div>
<div class="line">    Weight weight;</div>
<div class="line">    TimePoint timestamp;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Transaction data</span></div>
<div class="line"><span class="keyword">struct </span>Transaction {</div>
<div class="line">    Symbol symbol;</div>
<div class="line">    Shares shares;</div>
<div class="line">    Price price;</div>
<div class="line">    TimePoint timestamp;</div>
<div class="line">    Currency currency;</div>
<div class="line">    <span class="keywordtype">double</span> commission = 0.0;</div>
<div class="line">    TransactionSide side = TransactionSide::Buy;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Enumerations</span></div>
<div class="line"><span class="keyword">enum class</span> <a class="code hl_enumeration" href="../../d7/df8/namespacepyfolio.html#ad4beb384aab829428a007308f1d0c92e">Frequency</a> { <a class="code hl_enumvalue" href="../../d7/df8/namespacepyfolio.html#ad4beb384aab829428a007308f1d0c92eac512b685438f41daa7386329a3b8f8d3">Daily</a>, <a class="code hl_enumvalue" href="../../d7/df8/namespacepyfolio.html#ad4beb384aab829428a007308f1d0c92ea6c25e6a6da95b3d583c6ec4c3f82ed4d">Weekly</a>, <a class="code hl_enumvalue" href="../../d7/df8/namespacepyfolio.html#ad4beb384aab829428a007308f1d0c92ea9030e39f00132d583da4122532e509e9">Monthly</a>, <a class="code hl_enumvalue" href="../../d7/df8/namespacepyfolio.html#ad4beb384aab829428a007308f1d0c92eabe92c62702dcec6751c101b5adb0ce3b">Quarterly</a>, <a class="code hl_enumvalue" href="../../d7/df8/namespacepyfolio.html#ad4beb384aab829428a007308f1d0c92eacf5ea7953dc47105e0eb179dbefaaf46">Yearly</a> };</div>
<div class="line"><span class="keyword">enum class</span> <a class="code hl_enumeration" href="../../d7/df8/namespacepyfolio.html#a3d46f8329f981a02b2794451931e6c03">FillMethod</a> { <a class="code hl_enumvalue" href="../../d7/df8/namespacepyfolio.html#a3d46f8329f981a02b2794451931e6c03a67d2f6740a8eaebf4d5c6f79be8da481">Forward</a>, <a class="code hl_enumvalue" href="../../d7/df8/namespacepyfolio.html#a3d46f8329f981a02b2794451931e6c03ab3263eb38f8903efc271cc7a760da510">Backward</a>, <a class="code hl_enumvalue" href="../../d7/df8/namespacepyfolio.html#a3d46f8329f981a02b2794451931e6c03ad53238014015da17926bca398282211f">Interpolate</a>, <a class="code hl_enumvalue" href="../../d7/df8/namespacepyfolio.html#a3d46f8329f981a02b2794451931e6c03a3e679cff5b3a6f6f8f32aead541a0a12">Drop</a> };</div>
<div class="line"><span class="keyword">enum class</span> <a class="code hl_enumeration" href="../../d7/df8/namespacepyfolio.html#a621f4de5bafda9e6d787a2bfb28e90cf">TransactionSide</a> { <a class="code hl_enumvalue" href="../../d7/df8/namespacepyfolio.html#a621f4de5bafda9e6d787a2bfb28e90cfa831a28f1e8df07c553fcd59546465d13">Buy</a>, <a class="code hl_enumvalue" href="../../d7/df8/namespacepyfolio.html#a621f4de5bafda9e6d787a2bfb28e90cfa3068c5a98c003498f1fec0c489212e8b">Sell</a> };</div>
<div class="ttc" id="anamespacepyfolio_html_a3d46f8329f981a02b2794451931e6c03"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#a3d46f8329f981a02b2794451931e6c03">pyfolio::FillMethod</a></div><div class="ttdeci">FillMethod</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00086">types.h:86</a></div></div>
<div class="ttc" id="anamespacepyfolio_html_a3d46f8329f981a02b2794451931e6c03a3e679cff5b3a6f6f8f32aead541a0a12"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#a3d46f8329f981a02b2794451931e6c03a3e679cff5b3a6f6f8f32aead541a0a12">pyfolio::FillMethod::Drop</a></div><div class="ttdeci">@ Drop</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00086">types.h:86</a></div></div>
<div class="ttc" id="anamespacepyfolio_html_a3d46f8329f981a02b2794451931e6c03a67d2f6740a8eaebf4d5c6f79be8da481"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#a3d46f8329f981a02b2794451931e6c03a67d2f6740a8eaebf4d5c6f79be8da481">pyfolio::FillMethod::Forward</a></div><div class="ttdeci">@ Forward</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00086">types.h:86</a></div></div>
<div class="ttc" id="anamespacepyfolio_html_a3d46f8329f981a02b2794451931e6c03ab3263eb38f8903efc271cc7a760da510"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#a3d46f8329f981a02b2794451931e6c03ab3263eb38f8903efc271cc7a760da510">pyfolio::FillMethod::Backward</a></div><div class="ttdeci">@ Backward</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00086">types.h:86</a></div></div>
<div class="ttc" id="anamespacepyfolio_html_a3d46f8329f981a02b2794451931e6c03ad53238014015da17926bca398282211f"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#a3d46f8329f981a02b2794451931e6c03ad53238014015da17926bca398282211f">pyfolio::FillMethod::Interpolate</a></div><div class="ttdeci">@ Interpolate</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00086">types.h:86</a></div></div>
<div class="ttc" id="anamespacepyfolio_html_a621f4de5bafda9e6d787a2bfb28e90cf"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#a621f4de5bafda9e6d787a2bfb28e90cf">pyfolio::TransactionSide</a></div><div class="ttdeci">TransactionSide</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00180">types.h:180</a></div></div>
<div class="ttc" id="anamespacepyfolio_html_a621f4de5bafda9e6d787a2bfb28e90cfa3068c5a98c003498f1fec0c489212e8b"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#a621f4de5bafda9e6d787a2bfb28e90cfa3068c5a98c003498f1fec0c489212e8b">pyfolio::TransactionSide::Sell</a></div><div class="ttdeci">@ Sell</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00180">types.h:180</a></div></div>
<div class="ttc" id="anamespacepyfolio_html_a621f4de5bafda9e6d787a2bfb28e90cfa831a28f1e8df07c553fcd59546465d13"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#a621f4de5bafda9e6d787a2bfb28e90cfa831a28f1e8df07c553fcd59546465d13">pyfolio::TransactionSide::Buy</a></div><div class="ttdeci">@ Buy</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00180">types.h:180</a></div></div>
<div class="ttc" id="anamespacepyfolio_html_ad4beb384aab829428a007308f1d0c92e"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#ad4beb384aab829428a007308f1d0c92e">pyfolio::Frequency</a></div><div class="ttdeci">Frequency</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00074">types.h:74</a></div></div>
<div class="ttc" id="anamespacepyfolio_html_ad4beb384aab829428a007308f1d0c92ea6c25e6a6da95b3d583c6ec4c3f82ed4d"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#ad4beb384aab829428a007308f1d0c92ea6c25e6a6da95b3d583c6ec4c3f82ed4d">pyfolio::Frequency::Weekly</a></div><div class="ttdeci">@ Weekly</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00074">types.h:74</a></div></div>
<div class="ttc" id="anamespacepyfolio_html_ad4beb384aab829428a007308f1d0c92ea9030e39f00132d583da4122532e509e9"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#ad4beb384aab829428a007308f1d0c92ea9030e39f00132d583da4122532e509e9">pyfolio::Frequency::Monthly</a></div><div class="ttdeci">@ Monthly</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00074">types.h:74</a></div></div>
<div class="ttc" id="anamespacepyfolio_html_ad4beb384aab829428a007308f1d0c92eabe92c62702dcec6751c101b5adb0ce3b"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#ad4beb384aab829428a007308f1d0c92eabe92c62702dcec6751c101b5adb0ce3b">pyfolio::Frequency::Quarterly</a></div><div class="ttdeci">@ Quarterly</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00074">types.h:74</a></div></div>
<div class="ttc" id="anamespacepyfolio_html_ad4beb384aab829428a007308f1d0c92eac512b685438f41daa7386329a3b8f8d3"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#ad4beb384aab829428a007308f1d0c92eac512b685438f41daa7386329a3b8f8d3">pyfolio::Frequency::Daily</a></div><div class="ttdeci">@ Daily</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00074">types.h:74</a></div></div>
<div class="ttc" id="anamespacepyfolio_html_ad4beb384aab829428a007308f1d0c92eacf5ea7953dc47105e0eb179dbefaaf46"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html#ad4beb384aab829428a007308f1d0c92eacf5ea7953dc47105e0eb179dbefaaf46">pyfolio::Frequency::Yearly</a></div><div class="ttdeci">@ Yearly</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00074">types.h:74</a></div></div>
<div class="ttc" id="atypes_8h_html"><div class="ttname"><a href="../../d9/d49/types_8h.html">types.h</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md17"></a>
Strong Types</h2>
<div class="fragment"><div class="line"><span class="comment">// Type-safe financial values</span></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Tag&gt;</div>
<div class="line"><span class="keyword">class </span>StrongType {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">explicit</span> <span class="keyword">constexpr</span> StrongType(<span class="keyword">const</span> T&amp; value);</div>
<div class="line">    <span class="keyword">constexpr</span> <span class="keyword">const</span> T&amp; get() const noexcept;</div>
<div class="line">    constexpr operator const T&amp;() const noexcept;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Arithmetic operations</span></div>
<div class="line">    constexpr StrongType operator+(const StrongType&amp; other) const;</div>
<div class="line">    constexpr StrongType operator-(const StrongType&amp; other) const;</div>
<div class="line">    constexpr StrongType operator*(const StrongType&amp; other) const;</div>
<div class="line">    constexpr StrongType operator/(const StrongType&amp; other) const;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">using StrongPrice = StrongType&lt;<span class="keywordtype">double</span>, PriceTag&gt;;</div>
<div class="line">using StrongReturn = StrongType&lt;<span class="keywordtype">double</span>, ReturnTag&gt;;</div>
<div class="line">using StrongVolume = StrongType&lt;<span class="keywordtype">double</span>, VolumeTag&gt;;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md18"></a>
Utilities</h1>
<h2><a class="anchor" id="autotoc_md19"></a>
Data Loading</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d2/db9/data__loader_8h.html">pyfolio/io/data_loader.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d8/ddb/namespacepyfolio_1_1io.html">pyfolio::io</a> {</div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;Return&gt;&gt; load_returns_csv(</div>
<div class="line">        <span class="keyword">const</span> std::string&amp; filename,</div>
<div class="line">        <span class="keyword">const</span> std::string&amp; date_column = <span class="stringliteral">&quot;Date&quot;</span>,</div>
<div class="line">        <span class="keyword">const</span> std::string&amp; return_column = <span class="stringliteral">&quot;Return&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;std::vector&lt;Position&gt;&gt; load_positions_csv(</div>
<div class="line">        <span class="keyword">const</span> std::string&amp; filename);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;std::vector&lt;Transaction&gt;&gt; load_transactions_csv(</div>
<div class="line">        <span class="keyword">const</span> std::string&amp; filename);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Save functions</span></div>
<div class="line">    Result&lt;void&gt; save_returns_csv(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keyword">const</span> std::string&amp; filename);</div>
<div class="line">    </div>
<div class="line">    Result&lt;void&gt; save_metrics_json(</div>
<div class="line">        <span class="keyword">const</span> analytics::PerformanceMetrics&amp; metrics,</div>
<div class="line">        <span class="keyword">const</span> std::string&amp; filename);</div>
<div class="line">}</div>
<div class="ttc" id="adata__loader_8h_html"><div class="ttname"><a href="../../d2/db9/data__loader_8h.html">data_loader.h</a></div></div>
<div class="ttc" id="anamespacepyfolio_1_1io_html"><div class="ttname"><a href="../../d8/ddb/namespacepyfolio_1_1io.html">pyfolio::io</a></div><div class="ttdef"><b>Definition</b> <a href="../../d2/db9/data__loader_8h_source.html#l00017">data_loader.h:17</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md20"></a>
Validation</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../db/d38/validation_8h.html">pyfolio/utils/validation.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>pyfolio::validation {</div>
<div class="line">    [[nodiscard]] Result&lt;void&gt; validate_returns(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;void&gt; validate_positions(</div>
<div class="line">        <span class="keyword">const</span> std::vector&lt;Position&gt;&amp; positions);</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;void&gt; validate_transactions(</div>
<div class="line">        <span class="keyword">const</span> std::vector&lt;Transaction&gt;&amp; transactions);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Check for data quality issues</span></div>
<div class="line">    <span class="keyword">struct </span>DataQualityReport {</div>
<div class="line">        <span class="keywordtype">int</span> missing_values;</div>
<div class="line">        <span class="keywordtype">int</span> outliers;</div>
<div class="line">        <span class="keywordtype">int</span> duplicate_dates;</div>
<div class="line">        std::vector&lt;std::string&gt; warnings;</div>
<div class="line">    };</div>
<div class="line">    </div>
<div class="line">    [[nodiscard]] Result&lt;DataQualityReport&gt; data_quality_check(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keywordtype">double</span> outlier_threshold = 3.0);</div>
<div class="line">}</div>
<div class="ttc" id="avalidation_8h_html"><div class="ttname"><a href="../../db/d38/validation_8h.html">validation.h</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md21"></a>
Parallel Processing</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;pyfolio/core/parallel_algorithms.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d9/d20/namespacepyfolio_1_1parallel.html">pyfolio::parallel</a> {</div>
<div class="line">    <span class="comment">// Parallel metric calculation</span></div>
<div class="line">    [[nodiscard]] Result&lt;analytics::PerformanceMetrics&gt; calculate_metrics(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keywordtype">size_t</span> num_threads = std::thread::hardware_concurrency());</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Parallel rolling operations</span></div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> F&gt;</div>
<div class="line">    [[nodiscard]] Result&lt;TimeSeries&lt;double&gt;&gt; parallel_rolling(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keywordtype">size_t</span> window,</div>
<div class="line">        F&amp;&amp; func,</div>
<div class="line">        <span class="keywordtype">size_t</span> num_threads = std::thread::hardware_concurrency());</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Monte Carlo simulations</span></div>
<div class="line">    [[nodiscard]] Result&lt;std::vector&lt;double&gt;&gt; monte_carlo_var(</div>
<div class="line">        <span class="keyword">const</span> TimeSeries&lt;Return&gt;&amp; returns,</div>
<div class="line">        <span class="keywordtype">double</span> confidence_level,</div>
<div class="line">        <span class="keywordtype">size_t</span> num_simulations = 10000,</div>
<div class="line">        <span class="keywordtype">size_t</span> num_threads = std::thread::hardware_concurrency());</div>
<div class="line">}</div>
<div class="ttc" id="anamespacepyfolio_1_1parallel_html"><div class="ttname"><a href="../../d9/d20/namespacepyfolio_1_1parallel.html">pyfolio::parallel</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d36/parallel__algorithms_8h_source.html#l00028">parallel_algorithms.h:28</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md22"></a>
Examples</h1>
<h2><a class="anchor" id="autotoc_md23"></a>
Complete Portfolio Analysis</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d3/d30/pyfolio_8h.html">pyfolio/pyfolio.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> complete_analysis_example() {</div>
<div class="line">    <span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d7/df8/namespacepyfolio.html">pyfolio</a>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Load data</span></div>
<div class="line">    <span class="keyword">auto</span> returns = io::load_returns_csv(<span class="stringliteral">&quot;portfolio.csv&quot;</span>).value();</div>
<div class="line">    <span class="keyword">auto</span> benchmark = io::load_returns_csv(<span class="stringliteral">&quot;sp500.csv&quot;</span>).value();</div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_namespace" href="../../df/d8b/namespacepyfolio_1_1positions.html">positions</a> = io::load_positions_csv(<span class="stringliteral">&quot;positions.csv&quot;</span>).value();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Calculate comprehensive metrics</span></div>
<div class="line">    <span class="keyword">auto</span> metrics = <a class="code hl_function" href="../../d2/d10/namespacepyfolio_1_1analytics.html#a0562de05a212709b5e0fe358e30c90d0">analytics::calculate_performance_metrics</a>(</div>
<div class="line">        returns, benchmark, 0.025, 252).value();</div>
<div class="line">    </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;=== Portfolio Analysis ===&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Annual Return: &quot;</span> &lt;&lt; metrics.annual_return * 100 &lt;&lt; <span class="stringliteral">&quot;%&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Volatility: &quot;</span> &lt;&lt; metrics.annual_volatility * 100 &lt;&lt; <span class="stringliteral">&quot;%&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Sharpe Ratio: &quot;</span> &lt;&lt; metrics.sharpe_ratio &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Max Drawdown: &quot;</span> &lt;&lt; metrics.max_drawdown * 100 &lt;&lt; <span class="stringliteral">&quot;%&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Beta: &quot;</span> &lt;&lt; metrics.beta &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Alpha: &quot;</span> &lt;&lt; metrics.alpha * 100 &lt;&lt; <span class="stringliteral">&quot;%&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Risk analysis</span></div>
<div class="line">    <span class="keyword">auto</span> var_95 = risk::value_at_risk(returns, 0.95).value();</div>
<div class="line">    <span class="keyword">auto</span> cvar_95 = <a class="code hl_function" href="../../d2/da5/namespacepyfolio_1_1risk.html#ac091b780b885e60eb245538dd9ec1910">risk::conditional_var</a>(returns, 0.95).value();</div>
<div class="line">    </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\n=== Risk Metrics ===&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;VaR (95%): &quot;</span> &lt;&lt; var_95 * 100 &lt;&lt; <span class="stringliteral">&quot;%&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;CVaR (95%): &quot;</span> &lt;&lt; cvar_95 * 100 &lt;&lt; <span class="stringliteral">&quot;%&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Save results</span></div>
<div class="line">    io::save_metrics_json(metrics, <span class="stringliteral">&quot;analysis_results.json&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="anamespacepyfolio_1_1positions_html"><div class="ttname"><a href="../../df/d8b/namespacepyfolio_1_1positions.html">pyfolio::positions</a></div><div class="ttdef"><b>Definition</b> <a href="../../d0/db7/allocation_8h_source.html#l00012">allocation.h:12</a></div></div>
<div class="ttc" id="anamespacepyfolio_html"><div class="ttname"><a href="../../d7/df8/namespacepyfolio.html">pyfolio</a></div><div class="ttdef"><b>Definition</b> <a href="../../d6/dfe/bayesian_8h_source.html#l00013">bayesian.h:13</a></div></div>
<div class="ttc" id="apyfolio_8h_html"><div class="ttname"><a href="../../d3/d30/pyfolio_8h.html">pyfolio.h</a></div><div class="ttdoc">Main header file for pyfolio_cpp - High-performance portfolio analysis library.</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md24"></a>
High-Frequency Analysis</h2>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> high_frequency_example() {</div>
<div class="line">    <span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d7/df8/namespacepyfolio.html">pyfolio</a>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Pre-allocate for performance</span></div>
<div class="line">    <a class="code hl_class" href="../../d7/ddc/classpyfolio_1_1TimeSeries.html">TimeSeries&lt;Return&gt;</a> returns;</div>
<div class="line">    returns.reserve(100000);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Use memory pool for transactions</span></div>
<div class="line">    <a class="code hl_class" href="../../da/ddf/classpyfolio_1_1memory_1_1PoolAllocator.html">memory::PoolAllocator&lt;Transaction&gt;</a> tx_allocator(1000000);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// SIMD-optimized operations</span></div>
<div class="line">    <span class="keyword">auto</span> correlation_matrix = simd::calculate_correlation_matrix(returns_matrix);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Parallel processing</span></div>
<div class="line">    <span class="keyword">auto</span> rolling_metrics = parallel::parallel_rolling(</div>
<div class="line">        returns, 252, [](<span class="keyword">auto</span> window) {</div>
<div class="line">            <span class="keywordflow">return</span> calculate_sharpe_ratio(window);</div>
<div class="line">        }, 8);  <span class="comment">// 8 threads</span></div>
<div class="line">}</div>
<div class="ttc" id="aclasspyfolio_1_1TimeSeries_html"><div class="ttname"><a href="../../d7/ddc/classpyfolio_1_1TimeSeries.html">pyfolio::TimeSeries</a></div><div class="ttdoc">High-performance time series container for financial data.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00022">time_series.h:22</a></div></div>
<div class="ttc" id="aclasspyfolio_1_1memory_1_1PoolAllocator_html"><div class="ttname"><a href="../../da/ddf/classpyfolio_1_1memory_1_1PoolAllocator.html">pyfolio::memory::PoolAllocator</a></div><div class="ttdoc">STL-compatible allocator using memory pools.</div><div class="ttdef"><b>Definition</b> <a href="../../df/d9d/pool__allocator_8h_source.html#l00431">pool_allocator.h:431</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md25"></a>
Real-time Monitoring</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;pyfolio/rest/api_server.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> real_time_example() {</div>
<div class="line">    <span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d7/df8/namespacepyfolio.html">pyfolio</a>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Create REST API server</span></div>
<div class="line">    rest::APIServer server(8080);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Add endpoints</span></div>
<div class="line">    server.add_endpoint(<span class="stringliteral">&quot;/metrics&quot;</span>, [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; returns_data) {</div>
<div class="line">        <span class="keyword">auto</span> returns = parse_returns_json(returns_data);</div>
<div class="line">        <span class="keyword">auto</span> metrics = <a class="code hl_function" href="../../d2/d10/namespacepyfolio_1_1analytics.html#a0562de05a212709b5e0fe358e30c90d0">analytics::calculate_performance_metrics</a>(returns);</div>
<div class="line">        <span class="keywordflow">return</span> metrics_to_json(metrics.value());</div>
<div class="line">    });</div>
<div class="line">    </div>
<div class="line">    server.add_endpoint(<span class="stringliteral">&quot;/risk&quot;</span>, [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; returns_data) {</div>
<div class="line">        <span class="keyword">auto</span> returns = parse_returns_json(returns_data);</div>
<div class="line">        <span class="keyword">auto</span> var = risk::value_at_risk(returns, 0.95);</div>
<div class="line">        <span class="keywordflow">return</span> risk_to_json(var.value());</div>
<div class="line">    });</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Start server</span></div>
<div class="line">    server.start();</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;API server running on http://localhost:8080&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md26"></a>
Error Handling Best Practices</h1>
<div class="fragment"><div class="line"><span class="comment">// Always check Result&lt;T&gt; return values</span></div>
<div class="line"><span class="keyword">auto</span> result = risky_operation();</div>
<div class="line"><span class="keywordflow">if</span> (result.is_error()) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Error [&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(result.error().code) </div>
<div class="line">              &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; result.error().message &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Use monadic operations for chaining</span></div>
<div class="line"><span class="keyword">auto</span> final_result = load_data(<span class="stringliteral">&quot;file.csv&quot;</span>)</div>
<div class="line">    .and_then([](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; data) { <span class="keywordflow">return</span> validate_data(data); })</div>
<div class="line">    .and_then([](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; data) { <span class="keywordflow">return</span> calculate_metrics(data); })</div>
<div class="line">    .<a class="code hl_function" href="../../de/d10/namespacepyfolio_1_1parallel_1_1par.html#a0d0d29265c2283734ee6c51a8e300bde">map</a>([](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; metrics) { <span class="keywordflow">return</span> format_output(metrics); });</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Provide default values when appropriate</span></div>
<div class="line"><span class="keyword">auto</span> sharpe = calculate_sharpe_ratio(returns).value_or(0.0);</div>
<div class="ttc" id="anamespacepyfolio_1_1parallel_1_1par_html_a0d0d29265c2283734ee6c51a8e300bde"><div class="ttname"><a href="../../de/d10/namespacepyfolio_1_1parallel_1_1par.html#a0d0d29265c2283734ee6c51a8e300bde">pyfolio::parallel::par::map</a></div><div class="ttdeci">Result&lt; std::vector&lt; T &gt; &gt; map(const std::vector&lt; T &gt; &amp;input, UnaryOp op)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d36/parallel__algorithms_8h_source.html#l00552">parallel_algorithms.h:552</a></div></div>
</div><!-- fragment --><p>This API reference provides comprehensive coverage of all major components in Pyfolio C++. For detailed implementation examples, see the <code>examples/</code> directory and the generated Doxygen documentation. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Jun 29 2025 12:06:36 for Pyfolio C++ by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
