<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST" kind="page">
    <compoundname>md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST</compoundname>
    <title>Pyfolio C++ æ”¹è¿›å¾…åŠäº‹é¡¹æ¸…å•</title>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para><anchor id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md68"/></para>
<sect1 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md69">
<title>å‰è¨€</title><para>åŸºäºå¯¹åŸå§‹ pyfolio Python åº“å’Œ pyfolio_cpp C++ é‡æ„ç‰ˆæœ¬çš„æ·±åº¦åˆ†æï¼Œæœ¬æ–‡æ¡£è¯¦ç»†åˆ—å‡ºäº†éœ€è¦æ”¹è¿›çš„å…³é”®é¢†åŸŸã€‚ä½œä¸ºæ‹¥æœ‰30å¹´ç»éªŒçš„ C++ å’Œ Python é«˜çº§å¼€å‘å·¥ç¨‹å¸ˆçš„åˆ†æç»“æœï¼Œè¿™äº›æ”¹è¿›å»ºè®®å°†æ˜¾è‘—æå‡é¡¹ç›®çš„ä»£ç è´¨é‡ã€æ€§èƒ½å’ŒåŠŸèƒ½å®Œæ•´æ€§ã€‚</para>
<para><hruler/>
</para>
</sect1>
<sect1 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md71">
<title>ğŸ”´ <bold>ä¼˜å…ˆçº§ 1 - ç´§æ€¥ä¿®å¤ (Critical - ç«‹å³å¤„ç†)</bold></title><sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md72">
<title>1.1 API å…¼å®¹æ€§ä¿®å¤</title><para><bold>å½±å“èŒƒå›´</bold>: 75% çš„æµ‹è¯•å¤±è´¥ <bold>é¢„è®¡å·¥ä½œé‡</bold>: 3-5 å·¥ä½œæ—¥</para>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md73">
<title>é—®é¢˜è¯¦è¿°:</title><para><itemizedlist>
<listitem><para><bold>æ–‡ä»¶</bold>: <computeroutput>tests/test_python_pos_equivalence.cpp:19-27</computeroutput><itemizedlist>
<listitem><para>Position æ„é€ å‡½æ•°ç­¾åä¸åŒ¹é…</para>
</listitem><listitem><para>éœ€è¦æ›´æ–°æ„é€ å‡½æ•°å‚æ•°é¡ºåºå’Œç±»å‹</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para><bold>æ–‡ä»¶</bold>: <computeroutput>tests/test_positions.cpp</computeroutput><itemizedlist>
<listitem><para>12 ä¸ª TODO æ³¨é‡Š (è¡Œ 85, 92, 100 ç­‰)</para>
</listitem><listitem><para>AllocationAnalyzer API ä¸å…¼å®¹</para>
</listitem><listitem><para>æ–¹æ³•åç§°å’Œå‚æ•°ä¸åŒ¹é…</para>
</listitem></itemizedlist>
</para>
</listitem><listitem><para><bold>æ–‡ä»¶</bold>: <computeroutput>tests/test_regime_detection.cpp:62, 76-77</computeroutput><itemizedlist>
<listitem><para>MarketIndicators å®ç°ç¼ºå¤±</para>
</listitem><listitem><para>éœ€è¦å®ç°å®Œæ•´çš„å¸‚åœºæŒ‡æ ‡åˆ†æåŠŸèƒ½</para>
</listitem></itemizedlist>
</para>
</listitem></itemizedlist>
</para>
</sect3>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md74">
<title>è§£å†³æ–¹æ¡ˆ:</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>ç¤ºä¾‹ä¿®å¤<sp/>-<sp/>Position<sp/>æ„é€ å‡½æ•°</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">Position<sp/>{</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>å½“å‰:<sp/>Position(symbol,<sp/>quantity,<sp/>price)</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>éœ€è¦:<sp/>Position(symbol,<sp/>market_value,<sp/>quantity,<sp/>price)</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>Position(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Symbol&amp;<sp/>symbol,<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>MarketValue&amp;<sp/>market_value,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Quantity&amp;<sp/>quantity,<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Price&amp;<sp/>price);</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
</programlisting></para>
</sect3>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md75">
<title>1.2 ç¼ºå¤±å®ç°è¡¥å…¨</title><para><bold>å½±å“èŒƒå›´</bold>: æ ¸å¿ƒåŠŸèƒ½ä¸å®Œæ•´ <bold>é¢„è®¡å·¥ä½œé‡</bold>: 5-7 å·¥ä½œæ—¥</para>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md76">
<title>Regime Detection æ¨¡å—ç¼ºå¤±:</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>æ–‡ä»¶:<sp/>include/pyfolio/analytics/regime_detection.h</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>éœ€è¦å®ç°çš„æ–¹æ³•:</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">RegimeDetector<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>Result&lt;RegimeAnalysis&gt;<sp/>markov_switching_detection(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TimeSeries&lt;double&gt;&amp;<sp/>returns);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>Result&lt;RegimeAnalysis&gt;<sp/>hidden_markov_detection(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TimeSeries&lt;double&gt;&amp;<sp/>returns);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>Result&lt;RegimeAnalysis&gt;<sp/>structural_break_detection(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TimeSeries&lt;double&gt;&amp;<sp/>returns);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>Result&lt;RegimeAnalysis&gt;<sp/>volatility_regime_detection(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TimeSeries&lt;double&gt;&amp;<sp/>returns);</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
</programlisting></para>
</sect3>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md77">
<title>MarketIndicators å®ç°:</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>æ–°æ–‡ä»¶:<sp/>include/pyfolio/analytics/market_indicators.h</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">MarketIndicators<sp/>{</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>Result&lt;TimeSeries&lt;double&gt;&gt;<sp/>calculate_vix_regime(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TimeSeries&lt;double&gt;&amp;<sp/>returns);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>Result&lt;TimeSeries&lt;double&gt;&gt;<sp/>calculate_yield_curve_slope(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TimeSeries&lt;double&gt;&amp;<sp/>returns);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>Result&lt;TimeSeries&lt;double&gt;&gt;<sp/>calculate_credit_spreads(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TimeSeries&lt;double&gt;&amp;<sp/>returns);</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
</programlisting></para>
</sect3>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md78">
<title>1.3 é”™è¯¯å¤„ç†ä¸€è‡´æ€§</title><para><bold>é—®é¢˜</bold>: æ··åˆä½¿ç”¨å¼‚å¸¸å’Œ Result&lt;T&gt; æ¨¡å¼ <bold>é¢„è®¡å·¥ä½œé‡</bold>: 2-3 å·¥ä½œæ—¥</para>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md79">
<title>å½“å‰é—®é¢˜:</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>æ–‡ä»¶:<sp/>include/pyfolio/core/time_series.h:29</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>validate_consistency()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(timestamps_.size()<sp/>!=<sp/>values_.size())<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::runtime_error(</highlight><highlight class="stringliteral">&quot;TimeSeries:<sp/>timestamps<sp/>and<sp/>values<sp/>size<sp/>mismatch&quot;</highlight><highlight class="normal">);<sp/></highlight><highlight class="comment">//<sp/>âŒ<sp/>ä¸ä¸€è‡´</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
</programlisting></para>
</sect3>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md80">
<title>ä¿®å¤æ–¹æ¡ˆ:</title><para><programlisting filename=".cpp"><codeline><highlight class="normal">Result&lt;void&gt;<sp/>validate_consistency()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(timestamps_.size()<sp/>!=<sp/>values_.size())<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Error{ErrorCode::SIZE_MISMATCH,<sp/></highlight><highlight class="stringliteral">&quot;TimeSeries:<sp/>timestamps<sp/>and<sp/>values<sp/>size<sp/>mismatch&quot;</highlight><highlight class="normal">};</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="d7/df8/namespacepyfolio_1a10901a85b628face8a96ad7e052555f9a505a83f220c02df2f85c3810cd9ceb38" kindref="member">Success</ref>{};</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
</programlisting></para>
<para><hruler/>
</para>
</sect3>
</sect2>
</sect1>
<sect1 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md82">
<title>ğŸŸ¡ <bold>ä¼˜å…ˆçº§ 2 - æ€§èƒ½ä¼˜åŒ– (Performance - çŸ­æœŸå¤„ç†)</bold></title><sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md83">
<title>2.1 ç®—æ³•å¤æ‚åº¦ä¼˜åŒ–</title><para><bold>å½±å“èŒƒå›´</bold>: æ ¸å¿ƒè®¡ç®—æ€§èƒ½ <bold>é¢„è®¡å·¥ä½œé‡</bold>: 4-6 å·¥ä½œæ—¥</para>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md84">
<title>A. TimeSeries æ’åºæ€§èƒ½é—®é¢˜</title><para><bold>æ–‡ä»¶</bold>: <computeroutput><ref refid="d8/d51/time__series_8h" kindref="compound">include/pyfolio/core/time_series.h</ref>:126-148</computeroutput> <bold>é—®é¢˜</bold>: O(n) é¢å¤–å†…å­˜åˆ†é…</para>
<para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>å½“å‰å®ç°<sp/>-<sp/>ä½æ•ˆ</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>sort_by_time()<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;DateTime&gt;<sp/>sorted_timestamps;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>âŒ<sp/>é¢å¤–å†…å­˜åˆ†é…</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;T&gt;<sp/>sorted_values;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>âŒ<sp/>é¢å¤–å†…å­˜åˆ†é…</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>...<sp/>æ‹·è´æ•´ä¸ªå‘é‡</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>ä¼˜åŒ–æ–¹æ¡ˆ<sp/>-<sp/>åŸåœ°æ’åº</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>sort_by_time()<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;size_t&gt;<sp/>indices(timestamps_.size());</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::iota(indices.begin(),<sp/>indices.end(),<sp/>0);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::sort(indices.begin(),<sp/>indices.end(),<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>j)<sp/>{<sp/>return<sp/>timestamps_[i]<sp/>&lt;<sp/>timestamps_[j];<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ä½¿ç”¨<sp/>indices<sp/>è¿›è¡ŒåŸåœ°é‡æ’åº</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>apply_permutation(timestamps_,<sp/>indices);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>apply_permutation(values_,<sp/>indices);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
</programlisting></para>
</sect3>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md85">
<title>B. æ»šåŠ¨æŒ‡æ ‡ç®—æ³•æ•ˆç‡</title><para><bold>æ–‡ä»¶</bold>: <computeroutput><ref refid="d3/d7e/rolling__metrics_8h" kindref="compound">include/pyfolio/performance/rolling_metrics.h</ref>:40-68</computeroutput> <bold>é—®é¢˜</bold>: O(nÂ²) å¤æ‚åº¦</para>
<para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>å½“å‰å®ç°<sp/>-<sp/>O(nÂ²)</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>values.size();<sp/>++i)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>j<sp/>=<sp/>start_idx;<sp/>j<sp/>&lt;=<sp/>i;<sp/>++j)<sp/>{<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>âŒ<sp/>é‡å¤è®¡ç®—</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sum<sp/>+=<sp/>values[j];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sum_sq<sp/>+=<sp/>values[j]<sp/>*<sp/>values[j];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>ä¼˜åŒ–æ–¹æ¡ˆ<sp/>-<sp/>O(n)<sp/>æ»‘åŠ¨çª—å£</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">RollingWindow<sp/>{</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::deque&lt;double&gt;<sp/>window_;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sum_<sp/>=<sp/>0.0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sum_sq_<sp/>=<sp/>0.0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>add_value(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>value)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(window_.size()<sp/>&gt;=<sp/>window_size_)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>old_value<sp/>=<sp/>window_.front();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>window_.pop_front();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sum_<sp/>-=<sp/>old_value;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sum_sq_<sp/>-=<sp/>old_value<sp/>*<sp/>old_value;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>window_.push_back(value);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sum_<sp/>+=<sp/>value;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sum_sq_<sp/>+=<sp/>value<sp/>*<sp/>value;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d1/d32/namespacepyfolio_1_1analytics_1_1cached_1af806e5aece2fa569d3cec8ba37a4b31a" kindref="member">mean</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sum_<sp/>/<sp/>window_.size();<sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d6/ddc/namespacepyfolio_1_1stats_1afae76bfc655b39b929869957f17e2406" kindref="member">variance</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>mean_val<sp/>=<sp/><ref refid="d1/d32/namespacepyfolio_1_1analytics_1_1cached_1af806e5aece2fa569d3cec8ba37a4b31a" kindref="member">mean</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(sum_sq_<sp/>/<sp/>window_.size())<sp/>-<sp/>(mean_val<sp/>*<sp/>mean_val);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
</programlisting></para>
</sect3>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md86">
<title>2.2 å†…å­˜ä½¿ç”¨ä¼˜åŒ–</title><para><bold>é¢„è®¡å·¥ä½œé‡</bold>: 2-3 å·¥ä½œæ—¥</para>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md87">
<title>SIMD ä¼˜åŒ–æœºä¼š:</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>æ–‡ä»¶:<sp/>include/pyfolio/math/statistics.h</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>å½“å‰å®ç°</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>calculate_mean(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;double&gt;&amp;<sp/>values)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>std::accumulate(values.begin(),<sp/>values.end(),<sp/>0.0)<sp/>/<sp/>values.size();</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>SIMD<sp/>ä¼˜åŒ–ç‰ˆæœ¬</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;immintrin.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>calculate_mean_simd(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;double&gt;&amp;<sp/>values)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>simd_size<sp/>=<sp/>4;<sp/></highlight><highlight class="comment">//<sp/>AVX2<sp/>å¯ä»¥å¤„ç†<sp/>4<sp/>ä¸ª<sp/>double</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>aligned_size<sp/>=<sp/>(values.size()<sp/>/<sp/>simd_size)<sp/>*<sp/>simd_size;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>__m256d<sp/>sum_vec<sp/>=<sp/>_mm256_setzero_pd();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>aligned_size;<sp/>i<sp/>+=<sp/>simd_size)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__m256d<sp/>data<sp/>=<sp/>_mm256_loadu_pd(&amp;values[i]);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sum_vec<sp/>=<sp/>_mm256_add_pd(sum_vec,<sp/>data);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>æå–å¹¶æ±‚å’Œ<sp/>SIMD<sp/>ç»“æœ</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sum_array[4];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>_mm256_storeu_pd(sum_array,<sp/>sum_vec);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>total<sp/>=<sp/>sum_array[0]<sp/>+<sp/>sum_array[1]<sp/>+<sp/>sum_array[2]<sp/>+<sp/>sum_array[3];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>å¤„ç†å‰©ä½™å…ƒç´ </highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>aligned_size;<sp/>i<sp/>&lt;<sp/>values.size();<sp/>++i)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total<sp/>+=<sp/>values[i];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>total<sp/>/<sp/>values.size();</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
</programlisting></para>
<para><hruler/>
</para>
</sect3>
</sect2>
</sect1>
<sect1 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md89">
<title>ğŸŸ  <bold>ä¼˜å…ˆçº§ 3 - ç°ä»£ C++ ç‰¹æ€§ (Modern C++ - ä¸­æœŸå¤„ç†)</bold></title><sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md90">
<title>3.1 ç¼–è¯‘æ—¶ä¼˜åŒ–</title><para><bold>é¢„è®¡å·¥ä½œé‡</bold>: 3-4 å·¥ä½œæ—¥</para>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md91">
<title>A. æ‰©å±• <computeroutput>constexpr</computeroutput> ä½¿ç”¨</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>å½“å‰<sp/>-<sp/>è¿è¡Œæ—¶è®¡ç®—</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d1/d32/namespacepyfolio_1_1analytics_1_1cached_1a68b92ffe1367d82222e4ad30773a0fd0" kindref="member">sharpe_ratio</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>annual_return,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>annual_volatility,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>risk_free_rate<sp/>=<sp/>0.0)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(annual_return<sp/>-<sp/>risk_free_rate)<sp/>/<sp/>annual_volatility;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>ä¼˜åŒ–<sp/>-<sp/>ç¼–è¯‘æ—¶è®¡ç®—</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d1/d32/namespacepyfolio_1_1analytics_1_1cached_1a68b92ffe1367d82222e4ad30773a0fd0" kindref="member">sharpe_ratio</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>annual_return,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>annual_volatility,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>risk_free_rate<sp/>=<sp/>0.0)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(annual_return<sp/>-<sp/>risk_free_rate)<sp/>/<sp/>annual_volatility;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>ç¼–è¯‘æ—¶å¸¸é‡è®¡ç®—</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="db/d9c/namespacepyfolio_1_1constants_1accf4b9e8a1c9179437b61a3f9a0e2e53" kindref="member">TRADING_DAYS_PER_YEAR</ref><sp/>=<sp/>252.0;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>SQRT_TRADING_DAYS<sp/>=<sp/>std::sqrt(TRADING_DAYS_PER_YEAR);<sp/></highlight><highlight class="comment">//<sp/>C++26</highlight></codeline>
</programlisting></para>
</sect3>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md92">
<title>B. æ·»åŠ  <computeroutput>[[nodiscard]]</computeroutput> å±æ€§</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>æ–‡ä»¶:<sp/>include/pyfolio/core/error_handling.h</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">[[nodiscard]]<sp/>Result<sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>âœ…<sp/>é˜²æ­¢æ„å¤–å¿½ç•¥ç»“æœ</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>[[nodiscard]]<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>is_success()<sp/>const<sp/>noexcept;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>[[nodiscard]]<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>is_error()<sp/>const<sp/>noexcept;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>[[nodiscard]]<sp/>const<sp/>T&amp;<sp/>value()<sp/>const&amp;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>[[nodiscard]]<sp/>T&amp;&amp;<sp/>value()<sp/>&amp;&amp;;</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>æ€§èƒ½å…³é”®å‡½æ•°</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">[[nodiscard]]<sp/>Result&lt;</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">&gt;<sp/>calculate_volatility(const<sp/>TimeSeries&lt;</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">&gt;&amp;<sp/>returns);</highlight></codeline>
<codeline><highlight class="normal">[[nodiscard]]<sp/>Result&lt;</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">&gt;<sp/>calculate_max_drawdown(const<sp/>TimeSeries&lt;</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">&gt;&amp;<sp/>returns);</highlight></codeline>
</programlisting></para>
</sect3>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md93">
<title>3.2 ç±»å‹å®‰å…¨å¢å¼º</title><para><bold>é¢„è®¡å·¥ä½œé‡</bold>: 2-3 å·¥ä½œæ—¥</para>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md94">
<title>std::span è§†å›¾ä¼˜åŒ–</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>å½“å‰<sp/>-<sp/>åˆ›å»ºä¸´æ—¶å¯¹è±¡</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TimeSeries&lt;double&gt;<sp/>get_window(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>start,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>end)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;DateTime&gt;<sp/>window_timestamps(timestamps_.begin()<sp/>+<sp/>start,<sp/>timestamps_.begin()<sp/>+<sp/>end);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/>window_values(values_.begin()<sp/>+<sp/>start,<sp/>values_.begin()<sp/>+<sp/>end);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>TimeSeries&lt;double&gt;(std::move(window_timestamps),<sp/>std::move(window_values));</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>ä¼˜åŒ–<sp/>-<sp/>é›¶æ‹·è´è§†å›¾</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">std::pair&lt;std::span&lt;const<sp/>DateTime&gt;,<sp/>std::span&lt;const<sp/>double&gt;&gt;<sp/></highlight></codeline>
<codeline><highlight class="normal">get_window_view(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>start,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>end)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::span&lt;const<sp/>DateTime&gt;{timestamps_.data()<sp/>+<sp/>start,<sp/>end<sp/>-<sp/>start},</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::span&lt;const<sp/>double&gt;{values_.data()<sp/>+<sp/>start,<sp/>end<sp/>-<sp/>start}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
</programlisting></para>
</sect3>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md95">
<title>å¼ºåŒ– Concepts</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>æ–‡ä»¶:<sp/>include/pyfolio/core/types.h</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>å½“å‰æ¦‚å¿µå®šä¹‰</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">concept<sp/></highlight><highlight class="normal">Numeric<sp/>=<sp/>std::is_arithmetic_v&lt;T&gt;;</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>å¢å¼ºçš„æ¦‚å¿µå®šä¹‰</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">concept<sp/></highlight><highlight class="normal">FinancialValue<sp/>=<sp/></highlight><highlight class="keyword">requires</highlight><highlight class="normal">(T<sp/>t)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>t.value()<sp/>}<sp/>-&gt;<sp/>std::convertible_to&lt;double&gt;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>T::zero()<sp/>}<sp/>-&gt;<sp/>std::same_as&lt;T&gt;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>t<sp/>+<sp/>t<sp/>}<sp/>-&gt;<sp/>std::same_as&lt;T&gt;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>t<sp/>-<sp/>t<sp/>}<sp/>-&gt;<sp/>std::same_as&lt;T&gt;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>t<sp/>*<sp/>2.0<sp/>}<sp/>-&gt;<sp/>std::same_as&lt;T&gt;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>t<sp/>/<sp/>2.0<sp/>}<sp/>-&gt;<sp/>std::same_as&lt;T&gt;;</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">concept<sp/></highlight><highlight class="normal">TimeSeriesValue<sp/>=<sp/>FinancialValue&lt;T&gt;<sp/>&amp;&amp;<sp/></highlight><highlight class="keyword">requires</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T::value_type;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::is_default_constructible_v&lt;T&gt;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::is_copy_constructible_v&lt;T&gt;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::is_move_constructible_v&lt;T&gt;;</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
</programlisting></para>
<para><hruler/>
</para>
</sect3>
</sect2>
</sect1>
<sect1 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md97">
<title>ğŸ”µ <bold>ä¼˜å…ˆçº§ 4 - åŠŸèƒ½å¢å¼º (Features - ä¸­é•¿æœŸå¤„ç†)</bold></title><sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md98">
<title>4.1 ç¼ºå¤±çš„ Python åŠŸèƒ½</title><para><bold>é¢„è®¡å·¥ä½œé‡</bold>: 8-12 å·¥ä½œæ—¥</para>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md99">
<title>A. Web æ¡†æ¶é›†æˆ (æ›¿ä»£ Flask)</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>æ–°æ–‡ä»¶:<sp/>include/pyfolio/web/server.h</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;crow.h&gt;</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>è½»é‡çº§<sp/>C++<sp/>web<sp/>æ¡†æ¶</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">PyfolioWebServer<sp/>{</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>crow::SimpleApp<sp/>app_;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>setup_routes()<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ä¸»é¡µè·¯ç”±</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CROW_ROUTE(app_,<sp/></highlight><highlight class="stringliteral">&quot;/&quot;</highlight><highlight class="normal">)([](){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>crow::load_text(</highlight><highlight class="stringliteral">&quot;templates/index.html&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>API<sp/>è·¯ç”±</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CROW_ROUTE(app_,<sp/></highlight><highlight class="stringliteral">&quot;/api/analysis&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.methods(</highlight><highlight class="stringliteral">&quot;POST&quot;</highlight><highlight class="normal">_method)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>([</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>crow::request&amp;<sp/>req)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>generate_analysis_json(req.body);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>é™æ€æ–‡ä»¶æœåŠ¡</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CROW_ROUTE(app_,<sp/></highlight><highlight class="stringliteral">&quot;/static/&lt;path&gt;&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>([](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>path)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>crow::load_text(</highlight><highlight class="stringliteral">&quot;static/&quot;</highlight><highlight class="normal"><sp/>+<sp/>path);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>start(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>port<sp/>=<sp/>8080)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>app_.port(port).multithreaded().run();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>crow::response<sp/>generate_analysis_json(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>request_data);</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
</programlisting></para>
</sect3>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md100">
<title>B. å¢å¼ºçš„å¯è§†åŒ–åŠŸèƒ½</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>æ–‡ä»¶:<sp/>include/pyfolio/visualization/plotly_integration.h</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;nlohmann/json.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">PlotlyChart<sp/>{</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>nlohmann::json<sp/>create_returns_chart(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TimeSeries&lt;double&gt;&amp;<sp/>returns)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nlohmann::json<sp/>chart;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chart[</highlight><highlight class="stringliteral">&quot;data&quot;</highlight><highlight class="normal">]<sp/>=<sp/>nlohmann::json::array();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>trace<sp/>=<sp/>chart[</highlight><highlight class="stringliteral">&quot;data&quot;</highlight><highlight class="normal">][0];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trace[</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;scatter&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trace[</highlight><highlight class="stringliteral">&quot;mode&quot;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;lines&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>è½¬æ¢æ—¶é—´åºåˆ—æ•°æ®</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>[timestamp,<sp/>value]<sp/>:<sp/>returns)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trace[</highlight><highlight class="stringliteral">&quot;x&quot;</highlight><highlight class="normal">].push_back(timestamp.to_iso_string());</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>trace[</highlight><highlight class="stringliteral">&quot;y&quot;</highlight><highlight class="normal">].push_back(value);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chart[</highlight><highlight class="stringliteral">&quot;layout&quot;</highlight><highlight class="normal">][</highlight><highlight class="stringliteral">&quot;title&quot;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Portfolio<sp/>Returns&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chart[</highlight><highlight class="stringliteral">&quot;layout&quot;</highlight><highlight class="normal">][</highlight><highlight class="stringliteral">&quot;xaxis&quot;</highlight><highlight class="normal">][</highlight><highlight class="stringliteral">&quot;title&quot;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Date&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chart[</highlight><highlight class="stringliteral">&quot;layout&quot;</highlight><highlight class="normal">][</highlight><highlight class="stringliteral">&quot;yaxis&quot;</highlight><highlight class="normal">][</highlight><highlight class="stringliteral">&quot;title&quot;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Returns&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>chart;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>std::string<sp/>to_html(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>nlohmann::json&amp;<sp/>chart)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::string<sp/>html<sp/>=<sp/>R</highlight><highlight class="stringliteral">&quot;(</highlight></codeline>
<codeline><highlight class="stringliteral">&lt;!DOCTYPE<sp/>html&gt;</highlight></codeline>
<codeline><highlight class="stringliteral">&lt;html&gt;</highlight></codeline>
<codeline><highlight class="stringliteral">&lt;head&gt;</highlight></codeline>
<codeline><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&lt;script<sp/>src=&quot;https://cdn.plot.ly/plotly-latest.min.js&quot;&gt;&lt;/script&gt;</highlight></codeline>
<codeline><highlight class="stringliteral">&lt;/head&gt;</highlight></codeline>
<codeline><highlight class="stringliteral">&lt;body&gt;</highlight></codeline>
<codeline><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&lt;div<sp/>id=&quot;chart&quot;&gt;&lt;/div&gt;</highlight></codeline>
<codeline><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&lt;script&gt;</highlight></codeline>
<codeline><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Plotly.newPlot(&apos;chart&apos;,<sp/>)&quot;<sp/>+<sp/>chart.dump()<sp/>+<sp/>R</highlight><highlight class="stringliteral">&quot;();</highlight></codeline>
<codeline><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&lt;/script&gt;</highlight></codeline>
<codeline><highlight class="stringliteral">&lt;/body&gt;</highlight></codeline>
<codeline><highlight class="stringliteral">&lt;/html&gt;)&quot;;</highlight></codeline>
<codeline><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>html;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
</programlisting></para>
</sect3>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md101">
<title>4.2 é«˜çº§åˆ†æåŠŸèƒ½</title><para><bold>é¢„è®¡å·¥ä½œé‡</bold>: 6-8 å·¥ä½œæ—¥</para>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md102">
<title>A. æœºå™¨å­¦ä¹ é›†æˆ</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>æ–°æ–‡ä»¶:<sp/>include/pyfolio/ml/regime_ml.h</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;dlib/svm.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">MLRegimeDetector<sp/>{</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">sample_type<sp/>=<sp/>dlib::matrix&lt;double,<sp/>0,<sp/>1&gt;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">kernel_type<sp/>=<sp/>dlib::radial_basis_kernel&lt;sample_type&gt;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>dlib::svm_c_trainer&lt;kernel_type&gt;<sp/>trainer_;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>Result&lt;RegimeClassification&gt;<sp/>detect_regimes_ml(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TimeSeries&lt;double&gt;&amp;<sp/>returns,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;FeatureVector&gt;&amp;<sp/>features)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ç‰¹å¾å·¥ç¨‹</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;sample_type&gt;<sp/>samples;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/>labels;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>feature<sp/>:<sp/>features)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sample_type<sp/>sample;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sample.set_size(feature.size());</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>feature.size();<sp/>++i)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sample(i)<sp/>=<sp/>feature[i];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>samples.push_back(sample);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>è®­ç»ƒ<sp/>SVM<sp/>æ¨¡å‹</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>decision_function<sp/>=<sp/>trainer_.train(samples,<sp/>labels);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>åº”ç”¨æ¨¡å‹è¿›è¡Œåˆ†ç±»</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RegimeClassification<sp/>result;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>sample<sp/>:<sp/>samples)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result.regimes.push_back(decision_function(sample));</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="d7/df8/namespacepyfolio_1a10901a85b628face8a96ad7e052555f9a505a83f220c02df2f85c3810cd9ceb38" kindref="member">Success</ref>{result};</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
</programlisting></para>
</sect3>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md103">
<title>B. å®æ—¶åˆ†ææ”¯æŒ</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>æ–°æ–‡ä»¶:<sp/>include/pyfolio/realtime/streaming.h</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">StreamingAnalyzer<sp/>{</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>RollingWindow&lt;T&gt;<sp/>window_;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;std::function&lt;void(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>AnalysisResult&amp;)&gt;&gt;<sp/>callbacks_;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>add_data_point(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>DateTime&amp;<sp/>timestamp,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T&amp;<sp/>value)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>window_.add(timestamp,<sp/>value);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(window_.size()<sp/>&gt;=<sp/>min_window_size_)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>analysis<sp/>=<sp/>perform_analysis();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>notify_callbacks(analysis);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>subscribe(std::function&lt;</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>AnalysisResult&amp;)&gt;<sp/>callback)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>callbacks_.push_back(std::move(callback));</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>AnalysisResult<sp/>perform_analysis()<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AnalysisResult<sp/>result;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result.sharpe_ratio<sp/>=<sp/>calculate_sharpe_ratio(window_.returns());</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result.max_drawdown<sp/>=<sp/>calculate_max_drawdown(window_.returns());</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result.volatility<sp/>=<sp/><ref refid="d8/dd9/namespacepyfolio_1_1performance_1a187ff948556631bd1ebbe0c3c87bdb76" kindref="member">calculate_volatility</ref>(window_.returns());</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>notify_callbacks(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>AnalysisResult&amp;<sp/>result)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>callback<sp/>:<sp/>callbacks_)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>callback(result);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
</programlisting></para>
<para><hruler/>
</para>
</sect3>
</sect2>
</sect1>
<sect1 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md105">
<title>ğŸŸ¢ <bold>ä¼˜å…ˆçº§ 5 - è´¨é‡æå‡ (Quality - é•¿æœŸå¤„ç†)</bold></title><sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md106">
<title>5.1 æµ‹è¯•è¦†ç›–ç‡æå‡</title><para><bold>ç›®æ ‡</bold>: ä» 60-70% æå‡åˆ° 95%+ <bold>é¢„è®¡å·¥ä½œé‡</bold>: 5-7 å·¥ä½œæ—¥</para>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md107">
<title>A. è¾¹ç•Œæ¡ä»¶æµ‹è¯•</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>æ–‡ä»¶:<sp/>tests/test_edge_cases.cpp</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(PerformanceMetrics,<sp/>EmptyTimeSeries)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>TimeSeries&lt;double&gt;<sp/>empty_series;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>result<sp/>=<sp/>calculate_sharpe_ratio(empty_series);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_TRUE(result.is_error());</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_EQ(result.error().code,<sp/>ErrorCode::INSUFFICIENT_DATA);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(PerformanceMetrics,<sp/>SingleDataPoint)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>TimeSeries&lt;double&gt;<sp/>single_point;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>single_point.add(DateTime::now(),<sp/>0.05);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>result<sp/>=<sp/><ref refid="d8/dd9/namespacepyfolio_1_1performance_1a187ff948556631bd1ebbe0c3c87bdb76" kindref="member">calculate_volatility</ref>(single_point);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_TRUE(result.is_error());</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_EQ(result.error().code,<sp/>ErrorCode::INSUFFICIENT_DATA);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(PerformanceMetrics,<sp/>NaNHandling)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>TimeSeries&lt;double&gt;<sp/>series_with_nan;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>series_with_nan.add(DateTime::now(),<sp/>0.05);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>series_with_nan.add(DateTime::now()<sp/>+<sp/>std::chrono::days(1),<sp/>std::numeric_limits&lt;double&gt;::quiet_NaN());</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>result<sp/>=<sp/>calculate_mean(series_with_nan);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_TRUE(result.is_error());</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_EQ(result.error().code,<sp/>ErrorCode::INVALID_DATA);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
</programlisting></para>
</sect3>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md108">
<title>B. æ€§èƒ½å›å½’æµ‹è¯•</title><para><programlisting filename=".cpp"><codeline><highlight class="comment">//<sp/>æ–‡ä»¶:<sp/>tests/test_performance_regression.cpp</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">PerformanceBenchmark<sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>::testing::Test<sp/>{</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>TimeSeries&lt;double&gt;<sp/>large_series_;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>SetUp()</highlight><highlight class="keyword"><sp/>override<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ç”Ÿæˆ<sp/>100,000<sp/>ä¸ªæ•°æ®ç‚¹</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>100000;<sp/>++i)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>large_series_.add(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DateTime::from_days_since_epoch(i),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>random_normal_distribution_(generator_)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST_F(PerformanceBenchmark,<sp/>SharpeRatioPerformance)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>start<sp/>=<sp/>std::chrono::high_resolution_clock::now();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>result<sp/>=<sp/>calculate_sharpe_ratio(large_series_);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>end<sp/>=<sp/>std::chrono::high_resolution_clock::now();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>duration<sp/>=<sp/>std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(end<sp/>-<sp/>start);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_TRUE(result.is_success());</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_LT(duration.count(),<sp/>100);<sp/></highlight><highlight class="comment">//<sp/>åº”è¯¥åœ¨<sp/>100ms<sp/>å†…å®Œæˆ</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
</programlisting></para>
</sect3>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md109">
<title>5.2 ä»£ç è´¨é‡å·¥å…·é›†æˆ</title><para><bold>é¢„è®¡å·¥ä½œé‡</bold>: 2-3 å·¥ä½œæ—¥</para>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md110">
<title>A. é™æ€ä»£ç åˆ†æ</title><para><programlisting filename=".cmake"><codeline><highlight class="normal">#<sp/>CMakeLists.txt<sp/>å¢å¼º</highlight></codeline>
<codeline><highlight class="normal">find_program(CLANG_TIDY_EXE<sp/>NAMES<sp/>&quot;clang-tidy&quot;)</highlight></codeline>
<codeline><highlight class="normal">if(CLANG_TIDY_EXE)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>set(CMAKE_CXX_CLANG_TIDY<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>${CLANG_TIDY_EXE};</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-checks=*,-fuchsia-*,-google-*,-zircon-*,-abseil-*,-llvm-header-guard;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-header-filter=.*pyfolio.*</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline><highlight class="normal">endif()</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">find_program(CPPCHECK_EXE<sp/>NAMES<sp/>&quot;cppcheck&quot;)</highlight></codeline>
<codeline><highlight class="normal">if(CPPCHECK_EXE)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>add_custom_target(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cppcheck</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>COMMAND<sp/>${CPPCHECK_EXE}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--enable=warning,performance,portability</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--std=c++20</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--template=&quot;[{severity}][{id}]<sp/>{message}<sp/>{callstack}<sp/>\(On<sp/>{file}:{line}\)&quot;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--verbose</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--quiet</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>${CMAKE_SOURCE_DIR}/include</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline><highlight class="normal">endif()</highlight></codeline>
</programlisting></para>
</sect3>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md111">
<title>B. ä»£ç æ ¼å¼åŒ–æ ‡å‡†åŒ–</title><para><programlisting filename=".yaml"><codeline><highlight class="normal">#<sp/>.clang-format</highlight></codeline>
<codeline><highlight class="normal">---</highlight></codeline>
<codeline><highlight class="normal">Language:<sp/>Cpp</highlight></codeline>
<codeline><highlight class="normal">BasedOnStyle:<sp/>Google</highlight></codeline>
<codeline><highlight class="normal">IndentWidth:<sp/>4</highlight></codeline>
<codeline><highlight class="normal">TabWidth:<sp/>4</highlight></codeline>
<codeline><highlight class="normal">UseTab:<sp/>Never</highlight></codeline>
<codeline><highlight class="normal">ColumnLimit:<sp/>100</highlight></codeline>
<codeline><highlight class="normal">AlignAfterOpenBracket:<sp/>Align</highlight></codeline>
<codeline><highlight class="normal">AlignConsecutiveAssignments:<sp/>true</highlight></codeline>
<codeline><highlight class="normal">AlignConsecutiveDeclarations:<sp/>true</highlight></codeline>
<codeline><highlight class="normal">AllowShortFunctionsOnASingleLine:<sp/>Empty</highlight></codeline>
<codeline><highlight class="normal">AllowShortIfStatementsOnASingleLine:<sp/>false</highlight></codeline>
<codeline><highlight class="normal">AlwaysBreakTemplateDeclarations:<sp/>true</highlight></codeline>
<codeline><highlight class="normal">BreakBeforeBraces:<sp/>Attach</highlight></codeline>
<codeline><highlight class="normal">BreakConstructorInitializers:<sp/>BeforeColon</highlight></codeline>
<codeline><highlight class="normal">IncludeBlocks:<sp/>Regroup</highlight></codeline>
<codeline><highlight class="normal">NamespaceIndentation:<sp/>None</highlight></codeline>
<codeline><highlight class="normal">PointerAlignment:<sp/>Left</highlight></codeline>
<codeline><highlight class="normal">SpaceAfterCStyleCast:<sp/>false</highlight></codeline>
<codeline><highlight class="normal">SpaceAfterTemplateKeyword:<sp/>true</highlight></codeline>
<codeline><highlight class="normal">SpaceBeforeAssignmentOperators:<sp/>true</highlight></codeline>
<codeline><highlight class="normal">SpaceBeforeCpp11BracedList:<sp/>false</highlight></codeline>
<codeline><highlight class="normal">SpaceBeforeParens:<sp/>ControlStatements</highlight></codeline>
<codeline><highlight class="normal">SpaceInEmptyParentheses:<sp/>false</highlight></codeline>
<codeline><highlight class="normal">Standard:<sp/>c++20</highlight></codeline>
</programlisting></para>
</sect3>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md112">
<title>5.3 æ–‡æ¡£å®Œå–„</title><para><bold>é¢„è®¡å·¥ä½œé‡</bold>: 4-5 å·¥ä½œæ—¥</para>
<sect3 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md113">
<title>A. API æ–‡æ¡£ç”Ÿæˆ</title><para><programlisting filename=".cpp"><codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;Numeric<sp/>T&gt;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">PerformanceCalculator<sp/>{</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>[[nodiscard]]<sp/>Result&lt;T&gt;<sp/><ref refid="d1/d32/namespacepyfolio_1_1analytics_1_1cached_1a68b92ffe1367d82222e4ad30773a0fd0" kindref="member">sharpe_ratio</ref>(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TimeSeries&lt;T&gt;&amp;<sp/>returns,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>T<sp/>risk_free_rate<sp/>=<sp/>T{0.0},</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>periods_per_year<sp/>=<sp/>252</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">noexcept</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
</programlisting></para>
<para><hruler/>
</para>
</sect3>
</sect2>
</sect1>
<sect1 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md115">
<title>ğŸ“Š <bold>å®æ–½ä¼˜å…ˆçº§çŸ©é˜µ</bold></title><para><table rows="13" cols="5"><row>
<entry thead="yes"><para>ç±»åˆ«   </para>
</entry><entry thead="yes"><para>å·¥ä½œé‡   </para>
</entry><entry thead="yes"><para>ä¸šåŠ¡å½±å“   </para>
</entry><entry thead="yes"><para>æŠ€æœ¯å½±å“   </para>
</entry><entry thead="yes"><para>æ¨èé¡ºåº    </para>
</entry></row>
<row>
<entry thead="no"><para>API å…¼å®¹æ€§ä¿®å¤   </para>
</entry><entry thead="no"><para>3-5å¤©   </para>
</entry><entry thead="no"><para>ğŸ”´ é«˜   </para>
</entry><entry thead="no"><para>ğŸ”´ é«˜   </para>
</entry><entry thead="no"><para>1    </para>
</entry></row>
<row>
<entry thead="no"><para>ç¼ºå¤±å®ç°è¡¥å…¨   </para>
</entry><entry thead="no"><para>5-7å¤©   </para>
</entry><entry thead="no"><para>ğŸ”´ é«˜   </para>
</entry><entry thead="no"><para>ğŸŸ¡ ä¸­   </para>
</entry><entry thead="no"><para>2    </para>
</entry></row>
<row>
<entry thead="no"><para>é”™è¯¯å¤„ç†ä¸€è‡´æ€§   </para>
</entry><entry thead="no"><para>2-3å¤©   </para>
</entry><entry thead="no"><para>ğŸŸ¡ ä¸­   </para>
</entry><entry thead="no"><para>ğŸ”´ é«˜   </para>
</entry><entry thead="no"><para>3    </para>
</entry></row>
<row>
<entry thead="no"><para>ç®—æ³•å¤æ‚åº¦ä¼˜åŒ–   </para>
</entry><entry thead="no"><para>4-6å¤©   </para>
</entry><entry thead="no"><para>ğŸŸ¡ ä¸­   </para>
</entry><entry thead="no"><para>ğŸ”´ é«˜   </para>
</entry><entry thead="no"><para>4    </para>
</entry></row>
<row>
<entry thead="no"><para>å†…å­˜ä½¿ç”¨ä¼˜åŒ–   </para>
</entry><entry thead="no"><para>2-3å¤©   </para>
</entry><entry thead="no"><para>ğŸŸ¡ ä¸­   </para>
</entry><entry thead="no"><para>ğŸŸ¡ ä¸­   </para>
</entry><entry thead="no"><para>5    </para>
</entry></row>
<row>
<entry thead="no"><para>ç°ä»£ C++ ç‰¹æ€§   </para>
</entry><entry thead="no"><para>3-4å¤©   </para>
</entry><entry thead="no"><para>ğŸŸ¢ ä½   </para>
</entry><entry thead="no"><para>ğŸ”´ é«˜   </para>
</entry><entry thead="no"><para>6    </para>
</entry></row>
<row>
<entry thead="no"><para>ç±»å‹å®‰å…¨å¢å¼º   </para>
</entry><entry thead="no"><para>2-3å¤©   </para>
</entry><entry thead="no"><para>ğŸŸ¢ ä½   </para>
</entry><entry thead="no"><para>ğŸŸ¡ ä¸­   </para>
</entry><entry thead="no"><para>7    </para>
</entry></row>
<row>
<entry thead="no"><para>Web æ¡†æ¶é›†æˆ   </para>
</entry><entry thead="no"><para>8-12å¤©   </para>
</entry><entry thead="no"><para>ğŸŸ¡ ä¸­   </para>
</entry><entry thead="no"><para>ğŸŸ¢ ä½   </para>
</entry><entry thead="no"><para>8    </para>
</entry></row>
<row>
<entry thead="no"><para>é«˜çº§åˆ†æåŠŸèƒ½   </para>
</entry><entry thead="no"><para>6-8å¤©   </para>
</entry><entry thead="no"><para>ğŸŸ¡ ä¸­   </para>
</entry><entry thead="no"><para>ğŸŸ¢ ä½   </para>
</entry><entry thead="no"><para>9    </para>
</entry></row>
<row>
<entry thead="no"><para>æµ‹è¯•è¦†ç›–ç‡æå‡   </para>
</entry><entry thead="no"><para>5-7å¤©   </para>
</entry><entry thead="no"><para>ğŸŸ¡ ä¸­   </para>
</entry><entry thead="no"><para>ğŸŸ¡ ä¸­   </para>
</entry><entry thead="no"><para>10    </para>
</entry></row>
<row>
<entry thead="no"><para>ä»£ç è´¨é‡å·¥å…·   </para>
</entry><entry thead="no"><para>2-3å¤©   </para>
</entry><entry thead="no"><para>ğŸŸ¢ ä½   </para>
</entry><entry thead="no"><para>ğŸŸ¡ ä¸­   </para>
</entry><entry thead="no"><para>11    </para>
</entry></row>
<row>
<entry thead="no"><para>æ–‡æ¡£å®Œå–„   </para>
</entry><entry thead="no"><para>4-5å¤©   </para>
</entry><entry thead="no"><para>ğŸŸ¢ ä½   </para>
</entry><entry thead="no"><para>ğŸŸ¢ ä½   </para>
</entry><entry thead="no"><para>12   </para>
</entry></row>
</table>
</para>
<para><bold>æ€»é¢„è®¡å·¥ä½œé‡</bold>: 47-66 å·¥ä½œæ—¥ (çº¦ 2-3 ä¸ªæœˆ)</para>
<para><hruler/>
</para>
</sect1>
<sect1 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md117">
<title>ğŸ¯ <bold>é˜¶æ®µæ€§ç›®æ ‡</bold></title><sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md118">
<title>ç¬¬ä¸€é˜¶æ®µ (ç¬¬ 1-2 å‘¨): åŸºç¡€ä¿®å¤</title><para><itemizedlist>
<listitem><para>âœ… ä¿®å¤æ‰€æœ‰ API å…¼å®¹æ€§é—®é¢˜</para>
</listitem><listitem><para>âœ… è¡¥å…¨ MarketIndicators å’Œ RegimeDetection å®ç°</para>
</listitem><listitem><para>âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†æ¨¡å¼</para>
</listitem><listitem><para><bold>ç›®æ ‡</bold>: æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼Œæµ‹è¯•è¦†ç›–ç‡è¾¾åˆ° 80%</para>
</listitem></itemizedlist>
</para>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md119">
<title>ç¬¬äºŒé˜¶æ®µ (ç¬¬ 3-4 å‘¨): æ€§èƒ½ä¼˜åŒ–</title><para><itemizedlist>
<listitem><para>âœ… å®æ–½ç®—æ³•å¤æ‚åº¦ä¼˜åŒ–</para>
</listitem><listitem><para>âœ… å†…å­˜ä½¿ç”¨ä¼˜åŒ–</para>
</listitem><listitem><para>âœ… SIMD æŒ‡ä»¤é›†æˆ</para>
</listitem><listitem><para><bold>ç›®æ ‡</bold>: æ€§èƒ½æå‡ 2-5xï¼Œå†…å­˜ä½¿ç”¨å‡å°‘ 30%</para>
</listitem></itemizedlist>
</para>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md120">
<title>ç¬¬ä¸‰é˜¶æ®µ (ç¬¬ 5-8 å‘¨): åŠŸèƒ½å¢å¼º</title><para><itemizedlist>
<listitem><para>âœ… ç°ä»£ C++ ç‰¹æ€§é›†æˆ</para>
</listitem><listitem><para>âœ… Web æ¡†æ¶å¼€å‘</para>
</listitem><listitem><para>âœ… é«˜çº§åˆ†æåŠŸèƒ½å®ç°</para>
</listitem><listitem><para><bold>ç›®æ ‡</bold>: åŠŸèƒ½è¦†ç›–ç‡è¾¾åˆ° 95ï¼Œç”¨æˆ·ä½“éªŒæ˜¾è‘—æå‡</para>
</listitem></itemizedlist>
</para>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md121">
<title>ç¬¬å››é˜¶æ®µ (ç¬¬ 9-12 å‘¨): è´¨é‡æå‡</title><para><itemizedlist>
<listitem><para>âœ… æµ‹è¯•è¦†ç›–ç‡æå‡åˆ° 95%+</para>
</listitem><listitem><para>âœ… ä»£ç è´¨é‡å·¥å…·é›†æˆ</para>
</listitem><listitem><para>âœ… å®Œæ•´æ–‡æ¡£ç¼–å†™</para>
</listitem><listitem><para><bold>ç›®æ ‡</bold>: ç”Ÿäº§å°±ç»ªï¼Œå‘å¸ƒ v1.0</para>
</listitem></itemizedlist>
</para>
<para><hruler/>
</para>
</sect2>
</sect1>
<sect1 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md123">
<title>ğŸ”§ <bold>å¼€å‘ç¯å¢ƒå»ºè®®</bold></title><sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md124">
<title>æ„å»ºç³»ç»Ÿä¼˜åŒ–</title><para><programlisting filename=".cmake"><codeline><highlight class="normal">#<sp/>CMakeLists.txt<sp/>å¢å¼ºç‰ˆæœ¬</highlight></codeline>
<codeline><highlight class="normal">cmake_minimum_required(VERSION<sp/>3.20)</highlight></codeline>
<codeline><highlight class="normal">project(pyfolio_cpp<sp/>VERSION<sp/>1.0.0<sp/>LANGUAGES<sp/>CXX)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>ç°ä»£<sp/>C++<sp/>æ ‡å‡†</highlight></codeline>
<codeline><highlight class="normal">set(CMAKE_CXX_STANDARD<sp/>20)</highlight></codeline>
<codeline><highlight class="normal">set(CMAKE_CXX_STANDARD_REQUIRED<sp/>ON)</highlight></codeline>
<codeline><highlight class="normal">set(CMAKE_CXX_EXTENSIONS<sp/>OFF)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>ç¼–è¯‘å™¨ä¼˜åŒ–é€‰é¡¹</highlight></codeline>
<codeline><highlight class="normal">if(CMAKE_CXX_COMPILER_ID<sp/>MATCHES<sp/>&quot;GNU|Clang&quot;)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>target_compile_options(pyfolio_cpp<sp/>PRIVATE</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-Wall<sp/>-Wextra<sp/>-Wpedantic</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-march=native<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>CPU<sp/>æ¶æ„ä¼˜åŒ–</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-O3<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>æœ€é«˜ä¼˜åŒ–çº§åˆ«</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-DNDEBUG<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>Release<sp/>æ¨¡å¼</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-flto<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/>é“¾æ¥æ—¶ä¼˜åŒ–</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline><highlight class="normal">endif()</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>åˆ†æå’Œè°ƒè¯•å·¥å…·</highlight></codeline>
<codeline><highlight class="normal">option(ENABLE_SANITIZERS<sp/>&quot;Enable<sp/>address<sp/>and<sp/>undefined<sp/>behavior<sp/>sanitizers&quot;<sp/>OFF)</highlight></codeline>
<codeline><highlight class="normal">if(ENABLE_SANITIZERS)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>target_compile_options(pyfolio_cpp<sp/>PRIVATE<sp/>-fsanitize=address,undefined)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>target_link_options(pyfolio_cpp<sp/>PRIVATE<sp/>-fsanitize=address,undefined)</highlight></codeline>
<codeline><highlight class="normal">endif()</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">option(ENABLE_PROFILING<sp/>&quot;Enable<sp/>profiling<sp/>support&quot;<sp/>OFF)</highlight></codeline>
<codeline><highlight class="normal">if(ENABLE_PROFILING)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>target_compile_options(pyfolio_cpp<sp/>PRIVATE<sp/>-pg)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>target_link_options(pyfolio_cpp<sp/>PRIVATE<sp/>-pg)</highlight></codeline>
<codeline><highlight class="normal">endif()</highlight></codeline>
</programlisting></para>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md125">
<title>æŒç»­é›†æˆé…ç½®</title><para><programlisting filename=".yaml"><codeline><highlight class="normal">#<sp/>.github/workflows/ci.yml</highlight></codeline>
<codeline><highlight class="normal">name:<sp/>CI</highlight></codeline>
<codeline><highlight class="normal">on:<sp/>[push,<sp/>pull_request]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">jobs:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>test:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>strategy:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>matrix:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os:<sp/>[ubuntu-latest,<sp/>macos-latest,<sp/>windows-latest]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>compiler:<sp/>[gcc-11,<sp/>clang-14]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>build_type:<sp/>[Debug,<sp/>Release]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>runs-on:<sp/>${{<sp/>matrix.os<sp/>}}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>steps:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>uses:<sp/>actions/checkout@v3</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>name:<sp/>Install<sp/>dependencies</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>run:<sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sudo<sp/>apt-get<sp/>update</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sudo<sp/>apt-get<sp/>install<sp/>-y<sp/>cmake<sp/>ninja-build<sp/>lcov</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>name:<sp/>Configure</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>run:<sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmake<sp/>-B<sp/>build<sp/>-G<sp/>Ninja<sp/>\</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-DCMAKE_BUILD_TYPE=${{<sp/>matrix.build_type<sp/>}}<sp/>\</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-DENABLE_TESTING=ON<sp/>\</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-DENABLE_COVERAGE=ON</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>name:<sp/>Build</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>run:<sp/>cmake<sp/>--build<sp/>build<sp/>--parallel</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>name:<sp/>Test</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>run:<sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd<sp/>build</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ctest<sp/>--output-on-failure<sp/>--parallel</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>name:<sp/>Coverage</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>if:<sp/>matrix.build_type<sp/>==<sp/>&apos;Debug&apos;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>run:<sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd<sp/>build</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>make<sp/>coverage</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bash<sp/>&lt;(curl<sp/>-s<sp/>https://codecov.io/bash)</highlight></codeline>
</programlisting></para>
<para><hruler/>
</para>
</sect2>
</sect1>
<sect1 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md127">
<title>ğŸ“ˆ <bold>é¢„æœŸæ”¶ç›Š</bold></title><sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md128">
<title>æ€§èƒ½æå‡</title><para><itemizedlist>
<listitem><para><bold>è®¡ç®—æ€§èƒ½</bold>: 10-100x æå‡ (å·²å®ç°éƒ¨åˆ†)</para>
</listitem><listitem><para><bold>å†…å­˜æ•ˆç‡</bold>: 50% å‡å°‘ (å·²å®ç°éƒ¨åˆ†) <linebreak/>
</para>
</listitem><listitem><para><bold>ç¼–è¯‘æ—¶ä¼˜åŒ–</bold>: 20-30% æ„å»ºæ—¶é—´å‡å°‘</para>
</listitem><listitem><para><bold>è¿è¡Œæ—¶å®‰å…¨</bold>: 0 å´©æºƒç‡ (é€šè¿‡ Result&lt;T&gt; æ¨¡å¼)</para>
</listitem></itemizedlist>
</para>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md129">
<title>å¼€å‘æ•ˆç‡</title><para><itemizedlist>
<listitem><para><bold>API ä¸€è‡´æ€§</bold>: 100% å…¼å®¹æ€§</para>
</listitem><listitem><para><bold>ç±»å‹å®‰å…¨</bold>: ç¼–è¯‘æ—¶é”™è¯¯æ£€æµ‹</para>
</listitem><listitem><para><bold>æµ‹è¯•è¦†ç›–</bold>: 95%+ ä»£ç è¦†ç›–ç‡</para>
</listitem><listitem><para><bold>æ–‡æ¡£å®Œæ•´æ€§</bold>: 100% API æ–‡æ¡£è¦†ç›–</para>
</listitem></itemizedlist>
</para>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md130">
<title>ç»´æŠ¤æ€§</title><para><itemizedlist>
<listitem><para><bold>ä»£ç è´¨é‡</bold>: A+ ç­‰çº§ (é€šè¿‡é™æ€åˆ†æ)</para>
</listitem><listitem><para><bold>æŠ€æœ¯å€ºåŠ¡</bold>: æœ€å°åŒ–</para>
</listitem><listitem><para><bold>æ‰©å±•æ€§</bold>: æ”¯æŒæ–°åŠŸèƒ½å¿«é€Ÿå¼€å‘</para>
</listitem><listitem><para><bold>ç¤¾åŒºè´¡çŒ®</bold>: æ¸…æ™°çš„è´¡çŒ®æŒ‡å—</para>
</listitem></itemizedlist>
</para>
<para><hruler/>
</para>
</sect2>
</sect1>
<sect1 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md132">
<title>ğŸ’¡ <bold>åˆ›æ–°ç‰¹æ€§å»ºè®®</bold></title><sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md133">
<title>1. æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ</title><para><programlisting filename=".cpp"><codeline><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>KeyType,<sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>ValueType&gt;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">IntelligentCache<sp/>{</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">mutable</highlight><highlight class="normal"><sp/>std::shared_mutex<sp/>cache_mutex_;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::unordered_map&lt;KeyType,<sp/>std::pair&lt;ValueType,<sp/>std::chrono::steady_clock::time_point&gt;&gt;<sp/>cache_;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::chrono::seconds<sp/>ttl_;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::optional&lt;ValueType&gt;<sp/>get(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>KeyType&amp;<sp/>key)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::shared_lock<sp/>lock(cache_mutex_);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>it<sp/>=<sp/>cache_.find(key);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(it<sp/>!=<sp/>cache_.end())<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>now<sp/>=<sp/>std::chrono::steady_clock::now();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(now<sp/>-<sp/>it-&gt;second.second<sp/>&lt;<sp/>ttl_)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>it-&gt;second.first;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>std::nullopt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>put(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>KeyType&amp;<sp/>key,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ValueType&amp;<sp/>value)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::unique_lock<sp/>lock(cache_mutex_);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cache_[key]<sp/>=<sp/>{value,<sp/>std::chrono::steady_clock::now()};</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
</programlisting></para>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md134">
<title>2. è‡ªé€‚åº”å‚æ•°ä¼˜åŒ–</title><para><programlisting filename=".cpp"><codeline><highlight class="keyword">class<sp/></highlight><highlight class="normal">AdaptiveOptimizer<sp/>{</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>Func,<sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal">...<sp/>Args&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>optimize_parameters(Func&amp;&amp;<sp/>func,<sp/>Args&amp;&amp;...<sp/>args)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ä½¿ç”¨æœºå™¨å­¦ä¹ ç®—æ³•è‡ªåŠ¨ä¼˜åŒ–å‚æ•°</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>åŸºäºå†å²æ€§èƒ½æ•°æ®è°ƒæ•´è®¡ç®—å‚æ•°</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>bayesian_optimization(std::forward&lt;Func&gt;(func),<sp/>std::forward&lt;Args&gt;(args)...);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
</programlisting></para>
</sect2>
<sect2 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md135">
<title>3. å¹¶è¡Œè®¡ç®—æ¡†æ¶</title><para><programlisting filename=".cpp"><codeline><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>ExecutionPolicy<sp/>=<sp/>std::execution::par_unseq&gt;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">ParallelAnalyzer<sp/>{</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>Container,<sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>Func&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>parallel_transform(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Container&amp;<sp/>input,<sp/>Func&amp;&amp;<sp/>func)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;std::invoke_result_t&lt;Func,<sp/>typename<sp/>Container::value_type&gt;&gt;<sp/>output;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output.resize(input.size());</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::transform(ExecutionPolicy{},<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>input.begin(),<sp/>input.end(),<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output.begin(),<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::forward&lt;Func&gt;(func));</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>output;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
</programlisting></para>
<para><hruler/>
</para>
</sect2>
</sect1>
<sect1 id="d1/dcd/md__2Users_2yunjinqi_2Documents_2source__code_2pyfolio__cpp_2docs_2IMPROVEMENT__TODO__LIST_1autotoc_md137">
<title>ğŸ <bold>ç»“è®º</bold></title><para>pyfolio_cpp é¡¹ç›®å±•ç°å‡ºä¼˜ç§€çš„æ¶æ„è®¾è®¡å’Œç°ä»£ C++ å®è·µï¼Œä½†ä»éœ€è¦ç³»ç»Ÿæ€§çš„æ”¹è¿›æ¥è¾¾åˆ°ç”Ÿäº§ç¯å¢ƒçš„è¦æ±‚ã€‚é€šè¿‡æŒ‰ç…§æœ¬æ–‡æ¡£çš„ä¼˜å…ˆçº§å’Œæ—¶é—´è®¡åˆ’æ‰§è¡Œæ”¹è¿›æªæ–½ï¼Œè¯¥é¡¹ç›®å°†æˆä¸ºä¸€ä¸ªé«˜æ€§èƒ½ã€ç±»å‹å®‰å…¨ã€åŠŸèƒ½å®Œæ•´çš„é‡‘èåˆ†æåº“ã€‚</para>
<para>å…³é”®æˆåŠŸå› ç´ :<orderedlist>
<listitem><para><bold>ä¸¥æ ¼æŒ‰ç…§ä¼˜å…ˆçº§æ‰§è¡Œ</bold>: å…ˆè§£å†³åŸºç¡€é—®é¢˜ï¼Œå†ä¼˜åŒ–æ€§èƒ½</para>
</listitem><listitem><para><bold>æŒç»­é›†æˆ</bold>: ç¡®ä¿æ¯ä¸ªæ”¹è¿›éƒ½æœ‰å¯¹åº”çš„æµ‹è¯•</para>
</listitem><listitem><para><bold>æ€§èƒ½åŸºå‡†</bold>: æ¯ä¸ªä¼˜åŒ–éƒ½è¦æœ‰é‡åŒ–çš„æ€§èƒ½æå‡æŒ‡æ ‡</para>
</listitem><listitem><para><bold>ä»£ç å®¡æŸ¥</bold>: ç¡®ä¿ä»£ç è´¨é‡å’Œä¸€è‡´æ€§</para>
</listitem><listitem><para><bold>æ–‡æ¡£åŒæ­¥</bold>: ä»£ç å’Œæ–‡æ¡£åŒæ­¥æ›´æ–°</para>
</listitem></orderedlist>
</para>
<para>é¢„è®¡å®Œæˆæ‰€æœ‰æ”¹è¿›åï¼Œpyfolio_cpp å°†æˆä¸ºä¸šç•Œé¢†å…ˆçš„ C++ é‡‘èåˆ†æåº“ï¼Œä¸ºç”¨æˆ·æä¾›å“è¶Šçš„æ€§èƒ½å’Œå¼€å‘ä½“éªŒã€‚</para>
<para><hruler/>
</para>
<para><bold>æ–‡æ¡£ç‰ˆæœ¬</bold>: v1.0 <linebreak/>
 <bold>æœ€åæ›´æ–°</bold>: 2024-06-28 <linebreak/>
 <bold>å®¡æŸ¥è€…</bold>: 30å¹´ç»éªŒ C++/Python é«˜çº§å¼€å‘å·¥ç¨‹å¸ˆ <linebreak/>
 <bold>ä¸‹æ¬¡å®¡æŸ¥</bold>: 2024-07-28 (æˆ–ä¸»è¦åŠŸèƒ½å®Œæˆå) </para>
</sect1>
    </detaileddescription>
    <location file="/Users/yunjinqi/Documents/source_code/pyfolio_cpp/docs/IMPROVEMENT_TODO_LIST.md"/>
  </compounddef>
</doxygen>
